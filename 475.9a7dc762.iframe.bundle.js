(self.webpackChunkuap_assessment=self.webpackChunkuap_assessment||[]).push([[475],{"./src/app/item/application/presentation/audio-recall/audio-recall.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".question {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 250px;\n}\n\n.response {\n  display: flex;\n  flex-direction: column;\n  min-height: 250px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n}\n\np {\n  text-align: center;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/drag-into-order/drag-into-order.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n  text-align: center;\n  padding: 2em 0 0 0;\n}\n@media screen and (max-width: 959.98px) {\n  :host {\n    padding: 0;\n  }\n}\n\np {\n  font-size: large;\n  text-align: center;\n  margin: 1.5em 0 1.5em 0;\n  line-height: 1.5em;\n}\n@media screen and (max-width: 959.98px) {\n  p {\n    margin: 1em 0 1em 0;\n  }\n}\n\n.instructions {\n  color: #888;\n}\n\n.choices-list {\n  display: inline-grid;\n  align-items: stretch;\n  justify-content: center;\n  align-content: center;\n  grid-gap: 0.5em;\n}\n.choices-list.many-choices {\n  grid-template-columns: 1fr !important;\n}\n@media screen and (max-width: 959.98px) {\n  .choices-list {\n    grid-template-columns: 1fr !important;\n  }\n}\n.choices-list.cdk-drop-list-dragging .choice-box:not(.cdk-drag-placeholder) {\n  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n}\n\n.choice-box {\n  display: flex;\n  align-items: center;\n  position: relative;\n  padding: 1em 0;\n  min-height: 100px;\n  min-width: 180px;\n  max-width: 100%;\n  border: 4px solid transparent;\n  border-radius: 10px;\n  background: #eee;\n  cursor: grab;\n  -webkit-user-select: none;\n          user-select: none;\n  transition: all 0.2s ease;\n}\n.choice-box:hover {\n  border: 4px solid var(--theme-primary-50);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n.choice-box:active {\n  cursor: grabbing;\n}\n.choice-box.cdk-drag-preview {\n  border: 4px solid var(--theme-primary-50);\n  background: var(--theme-primary-50);\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);\n  transform: rotate(5deg);\n  overflow: hidden;\n}\n.choice-box.cdk-drag-preview .order-number {\n  display: none;\n}\n.choice-box.cdk-drag-placeholder {\n  opacity: 0.3;\n  background: #eee;\n  border: 4px dashed #888;\n}\n.choice-box.cdk-drag-placeholder .order-number,\n.choice-box.cdk-drag-placeholder .drag-icon,\n.choice-box.cdk-drag-placeholder .choice-text {\n  visibility: hidden;\n}\n.choice-box.cdk-drag-animating {\n  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n}\n.choice-box.many-choices {\n  min-height: 0;\n  font-size: 0.8rem;\n}\n.choice-box.medium-choices {\n  min-width: 100px;\n}\n@media screen and (max-width: 959.98px) {\n  .choice-box {\n    min-height: 0;\n  }\n}\n\n.order-number {\n  position: absolute;\n  top: -8px;\n  left: -8px;\n  width: 24px;\n  height: 24px;\n  background: var(--theme-primary-50);\n  color: #fff;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.75em;\n  font-weight: bold;\n  z-index: 1;\n}\n\n.choice-text {\n  flex: 1;\n  text-align: center;\n  padding: 0 1.5em 0 0.1em;\n}\n\n.drag-icon {\n  color: #888;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/drag-to-box/drag-to-box.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  padding: 2em 0 0 0;\n}\n@media screen and (max-width: 959.98px) {\n  :host {\n    padding: 0;\n  }\n}\n\np {\n  font-size: large;\n  text-align: center;\n  margin: 1.5em 0 1.5em 0;\n  line-height: 1.5em;\n}\n@media screen and (max-width: 959.98px) {\n  p {\n    margin: 1em 0 1em 0;\n  }\n}\n\n.instructions {\n  color: #888;\n}\n\n.question {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5em;\n  margin: 2em 0;\n  line-height: 1.5em;\n}\n.question .question-text {\n  font-size: large;\n}\n.question .question-box {\n  display: inline-flex;\n  flex-wrap: wrap;\n  align-items: center;\n}\n.question .question-box .empty-box {\n  min-width: 100px;\n  min-height: 42px;\n  border: 4px dashed #888;\n  border-radius: 10px;\n  background: #eee;\n  transition: all 0.2s ease;\n  opacity: 0.3;\n}\n.question .question-box.cdk-drop-list-dragging .empty-box {\n  opacity: 0.8;\n}\n.question .question-box .choice-box {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.2em;\n  min-width: 50px;\n  padding: 0.3em 0.2em 0.3em 0.5em;\n  border: 4px solid transparent;\n  border-radius: 10px;\n  background: var(--theme-primary-50);\n  cursor: pointer;\n  -webkit-user-select: none;\n          user-select: none;\n  transition: all 0.2s ease;\n}\n.question .question-box .choice-box:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n.question .question-box .choice-box .close-icon {\n  color: #888;\n}\n.question .question-box .cdk-drag-placeholder {\n  display: none;\n}\n\n.available-choices {\n  margin: 2em 0;\n  min-height: 50px;\n  text-align: center;\n}\n\n.choice {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.2em;\n  min-width: 50px;\n  padding: 0.3em 0.5em 0.3em 0.2em;\n  margin: 0.25em 0.5em;\n  border: 4px solid transparent;\n  border-radius: 10px;\n  background: #eee;\n  cursor: pointer;\n  -webkit-user-select: none;\n          user-select: none;\n  transition: all 0.2s ease;\n}\n.choice:hover {\n  border: 4px solid var(--theme-primary-50);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n.choice:active {\n  cursor: grabbing;\n}\n.choice.cdk-drag-preview {\n  border: 4px solid var(--theme-primary-50);\n  background: var(--theme-primary-50);\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);\n  z-index: 1000;\n}\n.choice.cdk-drag-placeholder {\n  visibility: hidden;\n}\n.choice.choice.cdk-drag-animating {\n  transition: none !important;\n  animation: none !important;\n}\n.choice .drag-icon {\n  color: #888;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/image-sequence-recall/image-sequence-recall.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".question {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 250px;\n}\n\n.response {\n  display: flex;\n  flex-direction: column;\n  min-height: 250px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n}\n\np {\n  text-align: center;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/inline-choices/inline-choices.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  padding: 2em 0 0 0;\n}\n@media screen and (max-width: 959.98px) {\n  :host {\n    padding: 0;\n  }\n}\n\np {\n  font-size: large;\n  text-align: center;\n  margin: 1.5em 0 1.5em 0;\n  line-height: 1.5em;\n}\n@media screen and (max-width: 959.98px) {\n  p {\n    margin: 1em 0 1em 0;\n  }\n}\n\n.instructions {\n  color: #888;\n}\n\n.question {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5em;\n  margin: 2em 0;\n  line-height: 1.5em;\n  text-align: center;\n}\n\n.mat-button-toggle-group-appearance-standard {\n  border-radius: 10px;\n  border-color: #fff !important;\n}\n.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard {\n  background: #eee !important;\n  padding: 0.3em 0.5em;\n  border-color: #fff !important;\n  border-width: 4px !important;\n  max-height: 3em !important;\n  display: flex;\n  align-items: center;\n}\n.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard.mat-button-toggle-checked {\n  background: var(--theme-primary-50) !important;\n}\n@media screen and (max-width: 959.98px) {\n  .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard {\n    font-size: 0.8rem;\n  }\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/item/item.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n  padding: 1em 0 0 0;\n}\n@media screen and (max-width: 959.98px) {\n  :host {\n    padding: 0;\n  }\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/multiple-choice-image/multiple-choice-image.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"p {\n  font-size: large;\n  text-align: center;\n  margin: 1em 0 0 0;\n  line-height: 1.5em;\n}\n@media screen and (max-width: 959.98px) {\n  p {\n    margin: 1em 0 1em 0;\n  }\n}\n\nimg {\n  margin: auto;\n  height: auto;\n  max-width: 100%;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/multiple-choice-text/multiple-choice-text.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  padding: 2em 0 0 0;\n}\n@media screen and (max-width: 959.98px) {\n  :host {\n    padding: 0;\n  }\n}\n\np {\n  font-size: large;\n  text-align: center;\n  margin: 1.5em 0 1.5em 0;\n  line-height: 1.5em;\n}\n@media screen and (max-width: 959.98px) {\n  p {\n    margin: 1em 0 1em 0;\n  }\n}\n\n.instructions {\n  color: #888;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/multitask-audio-and-text/multitask-audio-and-text.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,'p {\n  text-align: center;\n}\n\n.instructions {\n  padding-bottom: 1rem;\n}\n\n.text {\n  padding: 2rem;\n  line-height: 2rem;\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  text-align: center;\n  gap: 0.5rem;\n  font-size: x-large;\n  font-family: "Noto Sans", sans-serif;\n}\n.text .part {\n  outline: 1px dotted var(--theme-primary-500);\n  padding: 1rem;\n}\n@media screen and (max-width: 959.98px) {\n  .text {\n    flex-direction: column;\n  }\n  .text .part {\n    margin-bottom: 1rem;\n  }\n}\n\n.timeout-container {\n  margin: 0 auto 1rem auto;\n  width: 300px;\n  height: 20px;\n  background-color: #eee;\n  border-radius: 5px;\n  overflow: hidden;\n  position: relative;\n}\n\n.timeout-bar {\n  width: 100%;\n  height: 100%;\n  background-color: var(--theme-accent-500);\n  transform: scaleX(0);\n  transform-origin: left;\n  animation: growBar 2s linear forwards;\n}\n.timeout-bar.timeout {\n  background-color: #f44336;\n  animation-duration: 0s !important;\n}\n\n@keyframes growBar {\n  from {\n    transform: scaleX(0);\n  }\n  to {\n    transform: scaleX(1);\n  }\n}',""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/plane/plane.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,':host {\n  display: block;\n  text-align: center;\n}\n\ncampsych-pfd-display {\n  width: 334px;\n  height: 250px;\n  margin: auto;\n}\n\ncampsych-pfd-plane {\n  width: 200px;\n  height: 200px;\n}\n\n.none {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n  font-size: 180%;\n  line-height: 1.5em;\n  color: white;\n  background: url("/files/planes/background_clouds_square.jpg") center center;\n  background-size: cover;\n  text-transform: uppercase;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n  width: 200px;\n  height: 200px;\n}\n\nul {\n  display: inline-grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  align-items: center;\n  justify-items: center;\n  justify-content: center;\n  align-content: center;\n  grid-gap: 0.25em;\n  padding: 0;\n}\n@media screen and (max-width: 1279.98px) {\n  ul {\n    grid-template-columns: 1fr;\n  }\n}\n\nli {\n  display: flex;\n  align-items: center;\n  border: 4px solid transparent;\n  border-radius: 10px;\n  background: var(--theme-accent-50);\n  cursor: pointer;\n  text-align: center;\n  padding: 0.5em;\n  margin: 0 !important;\n}\nli.selected {\n  border: 4px solid transparent;\n  background: var(--theme-primary-50);\n}\nli:not(.readonly):hover {\n  border: 4px solid var(--theme-primary-50);\n}\nli.readonly:hover {\n  cursor: not-allowed;\n}\n\np {\n  text-align: center;\n}',""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/text-input/text-input.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  padding: 2em 0 0 0;\n}\n@media screen and (max-width: 959.98px) {\n  :host {\n    padding: 0;\n  }\n}\n\np {\n  font-size: large;\n  text-align: center;\n  margin: 1.5em 0 1.5em 0;\n  line-height: 1.5em;\n}\n@media screen and (max-width: 959.98px) {\n  p {\n    margin: 1em 0 1em 0;\n  }\n}\n\n.response {\n  text-align: center;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/text-sequence-gap/text-sequence-gap.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"ul {\n  display: flex;\n  flex-wrap: wrap;\n  list-style: none;\n  align-items: center;\n  justify-content: center;\n}\n\nli {\n  margin-right: 1em !important;\n  font-size: 1.5em;\n}\nli span {\n  display: block;\n  margin-bottom: 12px;\n}\n@media screen and (max-width: 959.98px) {\n  li {\n    font-size: 1rem;\n    margin-right: 0.5em !important;\n  }\n}\n\np {\n  text-align: center;\n}\n\n.mat-mdc-form-field {\n  width: 4em;\n  font-size: 1em;\n  margin-top: 0.5rem;\n}\n\n.mat-mdc-form-field-subscript-wrapper {\n  display: none;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/text-sequence-recall/text-sequence-recall.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".question {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 250px;\n}\n\n.response {\n  display: flex;\n  flex-direction: column;\n  min-height: 250px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n}\n\np {\n  text-align: center;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/text/text.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/visual-search-training/visual-search-training.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\ncampsych-visual-search-training {\n  width: 800px;\n  height: 576px;\n  color: #eee;\n  background: black;\n}\n\np {\n  text-align: center;\n  color: #eee;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/item/application/presentation/visual-search/visual-search.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\ncampsych-visual-search {\n  width: 1000px;\n  height: 720px;\n  color: #eee;\n  background: black;\n}\n\n.message {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 1000px;\n  height: 720px;\n  color: #eee;\n  background: black;\n  font-size: larger;\n}\n\np {\n  text-align: center;\n  color: #eee;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/response/application/presentation/image-choice/image-choice.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n  text-align: center;\n}\n\nul {\n  display: inline-grid;\n  align-items: center;\n  justify-items: center;\n  justify-content: center;\n  align-content: center;\n  grid-gap: 0.25em;\n  padding: 0;\n}\n@media screen and (max-width: 1279.98px) {\n  ul {\n    grid-template-columns: 1fr !important;\n  }\n}\n\nli {\n  display: flex;\n  align-items: center;\n  border: 4px solid #eee;\n  border-radius: 10px;\n  background: var(--theme-accent-50);\n  cursor: pointer;\n  text-align: center;\n  padding: 0.5em;\n  margin: 0 !important;\n}\nli.selected {\n  border: 4px solid transparent;\n  background: var(--theme-primary-50);\n}\nli:not(.readonly):hover {\n  border: 4px solid var(--theme-primary-50);\n}\nli.readonly:hover {\n  cursor: not-allowed;\n}\n\nimg {\n  max-width: 100%;\n  height: auto;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/response/application/presentation/text-choice/text-choice.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n  text-align: center;\n}\n\nul {\n  display: inline-grid;\n  align-items: center;\n  justify-items: center;\n  justify-content: center;\n  align-content: center;\n  grid-gap: 0.25em;\n  padding: 0;\n}\n@media screen and (max-width: 959.98px) {\n  ul {\n    grid-template-columns: 1fr !important;\n  }\n}\nul.many-choices {\n  grid-template-columns: 1fr !important;\n}\nul.many-choices li {\n  min-height: 0;\n  font-size: 0.8rem;\n  padding: 1.5em;\n  margin: 0 !important;\n}\nul.medium-choices li {\n  min-width: 100px;\n}\n\nli {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 100px;\n  min-width: 180px;\n  width: 100%;\n  padding: 1em;\n  margin: 0.25em 0.5em 0.25em 0.5em !important;\n  border: 4px solid transparent;\n  border-radius: 10px;\n  background: #eee;\n  cursor: pointer;\n}\n@media screen and (max-width: 959.98px) {\n  li {\n    width: 100%;\n    min-height: 0;\n    padding: 1.5em;\n    margin: 0.5em 0 0.5em 0 !important;\n  }\n}\nli.selected {\n  border: 4px solid transparent;\n  background: var(--theme-primary-50);\n}\nli:not(.readonly):hover {\n  border: 4px solid var(--theme-primary-50);\n}\nli.readonly:hover {\n  cursor: not-allowed;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/response/application/presentation/text-select-choice/text-select-choice.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n  text-align: center;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/response/application/presentation/text/text.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/response/application/presentation/validator/validator.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  font-weight: bold;\n  padding-bottom: 1rem;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/tool/application/presentation/calculator/calculator.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".calculator-wrapper {\n  position: fixed;\n  z-index: 1000;\n  -webkit-user-select: none;\n          user-select: none;\n  transition: opacity 0.3s ease;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n  transition: box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);\n  border-radius: 10px;\n  width: 250px;\n}\n.calculator-wrapper:not(.visible) {\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n}\n.calculator-wrapper:not(.visible) .calculator-content {\n  display: none;\n}\n\n.calculator {\n  border-radius: 10px;\n}\n\n.calculator-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.3rem 1rem;\n  cursor: move;\n}\n.calculator-header h3 {\n  margin: 0 auto 0 0.3rem;\n}\n\n.calculator-content {\n  padding: 0 1rem 1.5rem;\n}\n\n.calculator-formula {\n  display: flex;\n  justify-content: end;\n  align-items: center;\n  height: 2rem;\n  margin: -0.3rem 0 0.3rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.calculator-display {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 2.8rem;\n  background: #eee;\n  border-radius: 4px;\n  padding: 0.5rem;\n  margin-bottom: 0.8rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.mat-grid-list {\n  margin: -0.2rem;\n}\n\n.mat-grid-tile {\n  overflow: visible;\n}\n\n.mat-mdc-raised-button {\n  font-size: 1.2rem;\n  min-width: 0;\n  width: 100%;\n  margin: 0.2rem;\n}\n\n.btn-text {\n  font-size: 1rem;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/tool/application/presentation/calculator/calculator.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>CalculatorComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var calculator_componentngResource=__webpack_require__("./src/app/tool/application/presentation/calculator/calculator.component.scss?ngResource"),calculator_componentngResource_default=__webpack_require__.n(calculator_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs"),form_field=__webpack_require__("./node_modules/@angular/material/fesm2022/form-field.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),input=__webpack_require__("./node_modules/@angular/material/fesm2022/input.mjs"),card=__webpack_require__("./node_modules/@angular/material/fesm2022/card.mjs"),grid_list=__webpack_require__("./node_modules/@angular/material/fesm2022/grid-list.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");let CalculatorComponent=class CalculatorComponent{displayElement;formulaElement;display=(0,core.signal)("");formula=(0,core.signal)("");isVisible=(0,core.signal)(!1);isDragging=(0,core.signal)(!1);position=(0,core.signal)({x:20,y:20});buttons=(0,core.signal)(BUTTONS);expression=(0,core.signal)([]);result=(0,core.signal)(0);resultDisplayed=(0,core.signal)(!1);dragOffset=(0,core.signal)({x:0,y:0});displayFontSize=(0,core.signal)(18);formulaFontSize=(0,core.signal)(14);displayValue=(0,core.computed)((()=>this.display()));formulaValue=(0,core.computed)((()=>this.formula()));isVisibleValue=(0,core.computed)((()=>this.isVisible()));positionValue=(0,core.computed)((()=>this.position()));buttonsValue=(0,core.computed)((()=>this.buttons()));constructor(){(0,core.effect)((()=>{const expressionValue=this.expression();this.display.set(this.getExpressionString(expressionValue))})),(0,core.effect)((()=>{const displayValue=this.display(),formulaValue=this.formula();(displayValue||formulaValue)&&setTimeout((()=>this.updateFontSize()),0)}))}toggleVisibility(){this.isVisible.update((visible=>!visible))}onMouseDown(event){if(event.target instanceof HTMLElement&&event.target.closest(".calculator-header")){this.isDragging.set(!0);const rect=event.currentTarget.getBoundingClientRect();this.dragOffset.set({x:event.clientX-rect.left,y:event.clientY-rect.top}),event.preventDefault()}}onMouseMove(event){if(this.isDragging()){const offset=this.dragOffset();this.position.set({x:event.clientX-offset.x,y:event.clientY-offset.y})}}onMouseUp(){this.isDragging.set(!1)}onButtonClick(value){switch(value){case"Clear":this.clear();break;case"Del":this.deleteOne();break;case"=":this.execute();break;default:this.write(value)}}write(item){const currentExpression=this.expression();if(this.resultDisplayed()&&this.isNumber(item))this.expression.set([item]);else if(this.isNumber(item))this.expression.set([...currentExpression,item]);else if(this.isOperator(item))if(0===currentExpression.length)"-"===item&&this.expression.set([item]);else{const lastItem=currentExpression[currentExpression.length-1];if(this.isNumber(lastItem)||"."===lastItem)this.expression.set([...currentExpression,item]);else if(this.isOperator(lastItem))if("-"===item)this.expression.set([...currentExpression,item]);else{const newExpression=[...currentExpression];newExpression[newExpression.length-1]=item,this.expression.set(newExpression)}}else"."===item?currentExpression.length>0&&this.isNumber(currentExpression[currentExpression.length-1])&&this.expression.set([...currentExpression,item]):"frac"===item&&currentExpression.length>0&&this.isNumber(currentExpression[currentExpression.length-1])&&this.expression.set([...currentExpression,item]);this.resultDisplayed.set(!1)}execute(){const currentDisplay=this.display();if(currentDisplay&&""!==currentDisplay)try{const expressionString=this.expression().join("").replace(/frac/g,"/"),calculatedResult=this.evaluateExpression(expressionString);isNaN(calculatedResult)?(this.result.set(0),this.formula.set(currentDisplay),this.display.set("NaN"),this.expression.set([]),this.resultDisplayed.set(!1)):(this.result.set(calculatedResult),this.formula.set(currentDisplay+"="),this.expression.set([calculatedResult.toString()]),this.resultDisplayed.set(!0))}catch(e){console.error(e),this.result.set(0),this.formula.set(currentDisplay+"="),this.display.set("Error"),this.expression.set([]),this.resultDisplayed.set(!1)}}clear(){this.resultDisplayed.set(!1),this.result.set(0),this.display.set(""),this.formula.set(""),this.expression.set([])}deleteOne(){this.resultDisplayed.set(!1);const currentExpression=this.expression();this.expression.set(currentExpression.slice(0,-1))}getExpressionString(expression){let newExpression="",frac=!1;for(let i=0;i<expression.length;i++)if(frac&&this.isOperator(expression[i])&&(newExpression+="</sub></span>",frac=!1),"/"===expression[i])newExpression+="÷";else if("*"===expression[i])newExpression+="×";else if("frac"===expression[i]){let fi=newExpression.length-1,foundDecimal=!1;for(;fi>=0;){const char=newExpression[fi];if(/\d/.test(char))fi--;else{if("."!==char||foundDecimal){if("-"===char&&0===fi)break;fi++;break}foundDecimal=!0,fi--}}fi=Math.max(0,fi),newExpression=[newExpression.slice(0,fi),'<span class="frac"><sup>',newExpression.slice(fi)].join(""),newExpression+="</sup><sub>",frac=!0}else newExpression+=expression[i];return frac&&(newExpression+="</sub></span>"),newExpression}isOperator(item){return"+"===item||"-"===item||"*"===item||"/"===item}isNumber(item){return!isNaN(Number(item))&&""!==item}evaluateExpression(expression){if(expression=expression.replace(/\s/g,""),!/^[\d+\-*/.()]+$/.test(expression))throw new Error("Invalid characters in expression");const tokens=this.tokenize(expression),postfix=this.infixToPostfix(tokens),result=this.evaluatePostfix(postfix),precisionComponent=Math.pow(10,5);return Math.round(result*precisionComponent)/precisionComponent}tokenize(expression){const tokens=[];let current="";for(let i=0;i<expression.length;i++){const char=expression[i];/\d/.test(char)||"."===char?current+=char:["+","*","/","(",")"].includes(char)?(current&&(tokens.push(current),current=""),tokens.push(char)):"-"===char&&(current?(tokens.push(current),current="",tokens.push(char)):0===tokens.length||this.isOperator(tokens[tokens.length-1])?current=char:tokens.push(char))}return current&&tokens.push(current),tokens}infixToPostfix(tokens){const output=[],operators=[],precedence={"+":1,"-":1,"*":2,"/":2};for(const token of tokens)if(/\d/.test(token)||token.startsWith("-")&&token.length>1)output.push(token);else if("("===token)operators.push(token);else if(")"===token){for(;operators.length>0&&"("!==operators[operators.length-1];)output.push(operators.pop());operators.length>0&&"("===operators[operators.length-1]&&operators.pop()}else{for(;operators.length>0&&"("!==operators[operators.length-1]&&precedence[operators[operators.length-1]]>=precedence[token];)output.push(operators.pop());operators.push(token)}for(;operators.length>0;)output.push(operators.pop());return output}evaluatePostfix(postfix){const stack=[];for(const token of postfix)if(/\d/.test(token)||token.startsWith("-")&&token.length>1)stack.push(parseFloat(token));else{const b=stack.pop(),a=stack.pop();switch(token){case"+":stack.push(a+b);break;case"-":stack.push(a-b);break;case"*":stack.push(a*b);break;case"/":if(0===b)throw new Error("Division by zero");stack.push(a/b)}}return stack[0]}updateFontSize(){if(!this.displayElement?.nativeElement||!this.formulaElement?.nativeElement)return;const displayElement=this.displayElement.nativeElement,formulaElement=this.formulaElement.nativeElement,displayContentWidth=displayElement.offsetWidth,formulaContentWidth=formulaElement.offsetWidth,displaySize=this.calculateFontSize(displayElement,displayContentWidth,18,10),formulaSize=this.calculateFontSize(formulaElement,formulaContentWidth,14,6);this.displayFontSize.set(displaySize),this.formulaFontSize.set(formulaSize)}calculateFontSize(element,containerWidth,maxFontSize,minFontSize){const originalFontSize=element.style.fontSize;element.style.fontSize=`${maxFontSize}px`;const contentWidthWithMaxFont=element.scrollWidth;element.style.fontSize=originalFontSize;const ratio=containerWidth/contentWidthWithMaxFont;let newFontSize=Math.floor(maxFontSize*ratio);return newFontSize=Math.max(minFontSize,Math.min(maxFontSize,newFontSize)),newFontSize}static ctorParameters=()=>[];static propDecorators={displayElement:[{type:core.ViewChild,args:["displayElement",{static:!1}]}],formulaElement:[{type:core.ViewChild,args:["formulaElement",{static:!1}]}],onMouseMove:[{type:core.HostListener,args:["document:mousemove",["$event"]]}],onMouseUp:[{type:core.HostListener,args:["document:mouseup"]}]}};CalculatorComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-tool-calculator",template:'<div\n  class="calculator-wrapper"\n  [class.visible]="isVisible()"\n  [style.left.px]="position().x"\n  [style.top.px]="position().y"\n  (mousedown)="onMouseDown($event)"\n>\n  <mat-card class="calculator">\n    <div class="calculator-header">\n      <mat-icon color="accent">calculate</mat-icon>\n      <h3>Calculator</h3>\n      <button\n        mat-icon-button\n        class="toggle-btn"\n        (click)="toggleVisibility()"\n        [attr.aria-label]="isVisible() ? \'Hide calculator\' : \'Show calculator\'"\n      >\n        <mat-icon>{{ isVisible() ? "remove" : "add" }}</mat-icon>\n      </button>\n    </div>\n    @if (isVisible()) {\n    <div class="calculator-content">\n      <div\n        class="calculator-formula"\n        #formulaElement\n        [innerHTML]="formula()"\n        [style.font-size.px]="formulaFontSize()"\n      ></div>\n      <div\n        class="calculator-display"\n        #displayElement\n        [innerHTML]="display()"\n        [style.font-size.px]="displayFontSize()"\n      ></div>\n      <mat-grid-list cols="4" rowHeight="2.625rem" gutterSize="0">\n        @for (btn of buttons(); track btn.value) {\n        <mat-grid-tile [colspan]="btn.colspan || 1">\n          <button\n            mat-raised-button\n            [color]="btn.color || \'primary\'"\n            [ngClass]="btn.class || \'\'"\n            (click)="onButtonClick(btn.value)"\n            [innerHTML]="btn.label || btn.value"\n            [attr.aria-label]="btn.ariaLabel"\n          ></button>\n        </mat-grid-tile>\n        }\n      </mat-grid-list>\n    </div>\n    }\n  </mat-card>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,imports:[common.MD,card.Hu,grid_list.Fe,fesm2022_button.Hl,icon.m_,form_field.RG,input.fS],styles:[calculator_componentngResource_default()]})],CalculatorComponent);const BUTTONS=[{value:"7",ariaLabel:"Number 7"},{value:"8",ariaLabel:"Number 8"},{value:"9",ariaLabel:"Number 9"},{value:"/",ariaLabel:"Divide"},{value:"4",ariaLabel:"Number 4"},{value:"5",ariaLabel:"Number 5"},{value:"6",ariaLabel:"Number 6"},{value:"*",ariaLabel:"Multiply"},{value:"1",ariaLabel:"Number 1"},{value:"2",ariaLabel:"Number 2"},{value:"3",ariaLabel:"Number 3"},{value:"-",ariaLabel:"Minus"},{value:"0",ariaLabel:"Number 0"},{value:".",ariaLabel:"Decimal point"},{label:"<sup>x</sup><sub>y</sub>",value:"frac",color:"primary",class:"frac",ariaLabel:"Fraction"},{value:"+",ariaLabel:"Plus"},{value:"Clear",color:"warn",class:"btn-text",ariaLabel:"Clear all"},{value:"Del",color:"warn",class:"btn-text",ariaLabel:"Delete last character"},{value:"=",color:"accent",colspan:2,ariaLabel:"Equals"}]},"./src/app/ui/application/presentation/audio-player/audio-player.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"a {\n  cursor: pointer;\n  color: #181d27;\n  border-bottom: none;\n}\na:hover {\n  border-bottom: none;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/ui/application/presentation/image-sequence/image-sequence.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"a {\n  cursor: pointer;\n  color: #181d27;\n  border-bottom: none;\n}\na:hover {\n  border-bottom: none;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/ui/application/presentation/spinner/spinner.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: calc(100vh - (50px + 4px + 140px));\n}\n:host.fullscreen {\n  height: calc(100vh - 140px - 50px - 4px);\n}\n@media ((max-height: 1079px) and (min-width: 600px)) {\n  :host.fullscreen {\n    height: calc(100vh - 50px - 4px);\n  }\n}\n:host.inline {\n  height: auto;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/ui/application/presentation/text-sequence/text-sequence.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"a {\n  cursor: pointer;\n  color: #181d27;\n  border-bottom: none;\n}\na:hover {\n  border-bottom: none;\n}\n\n.element {\n  font-size: 4em;\n  font-weight: bold;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/stories/item/item.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>item_component_ItemComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),itemngResource=__webpack_require__("./src/stories/item/item.css?ngResource"),itemngResource_default=__webpack_require__.n(itemngResource),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");var item_componentngResource=__webpack_require__("./src/app/item/application/presentation/item/item.component.scss?ngResource"),item_componentngResource_default=__webpack_require__.n(item_componentngResource);var audio_recall_componentngResource=__webpack_require__("./src/app/item/application/presentation/audio-recall/audio-recall.component.scss?ngResource"),audio_recall_componentngResource_default=__webpack_require__.n(audio_recall_componentngResource);const environment_filesUrl="/files";var fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),delay=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/delay.js"),startWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs");var audio_player_componentngResource=__webpack_require__("./src/app/ui/application/presentation/audio-player/audio-player.component.scss?ngResource"),audio_player_componentngResource_default=__webpack_require__.n(audio_player_componentngResource),fesm2022_core=__webpack_require__("./node_modules/@angular/material/fesm2022/core.mjs");var spinner_componentngResource=__webpack_require__("./src/app/ui/application/presentation/spinner/spinner.component.scss?ngResource"),spinner_componentngResource_default=__webpack_require__.n(spinner_componentngResource),progress_spinner=__webpack_require__("./node_modules/@angular/material/fesm2022/progress-spinner.mjs");let UiSpinnerComponent=class UiSpinnerComponent{};UiSpinnerComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-ui-spinner",imports:[common.MD,progress_spinner.D6],template:"<mat-spinner/>\n",changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[spinner_componentngResource_default()]})],UiSpinnerComponent);let UiAudioPlayerComponent=class UiAudioPlayerComponent{url=(0,core.input)();options=(0,core.input)(void 0);playbackStarted=(0,core.output)();playbackFinished=(0,core.output)();playbackError=(0,core.output)();audioElement=(0,core.viewChild)("audio");platformId=(0,core.inject)(core.PLATFORM_ID);state=(0,core.linkedSignal)((()=>this.getInitialState(this.url())));constructor(){(0,core.effect)((()=>this.forceLoad(this.url(),this.audioElement())))}ready(){this.state.set("ready")}startWithKey(event){"Enter"!==event.key&&" "!==event.key||(this.start(),event.preventDefault())}start(){const audioElement=this.audioElement();audioElement&&audioElement.nativeElement.play().then((()=>{this.state.set("playback"),this.playbackStarted.emit()})).catch((it=>this.playbackError.emit(it)))}finish(){this.playbackFinished.emit()}getInitialState(_){return"loading"}forceLoad(url,el){const audioEl=el?.nativeElement;(0,common.UE)(this.platformId)&&url&&audioEl&&(audioEl.src=url,audioEl.load())}static ctorParameters=()=>[];static propDecorators={url:[{type:core.Input,args:[{isSignal:!0,alias:"url",required:!1,transform:void 0}]}],options:[{type:core.Input,args:[{isSignal:!0,alias:"options",required:!1,transform:void 0}]}],playbackStarted:[{type:core.Output,args:["playbackStarted"]}],playbackFinished:[{type:core.Output,args:["playbackFinished"]}],playbackError:[{type:core.Output,args:["playbackError"]}],audioElement:[{type:core.ViewChild,args:["audio",{isSignal:!0}]}]}};UiAudioPlayerComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-ui-audio-player",imports:[common.MD,fesm2022_button.Hl,icon.m_,fesm2022_core.pZ,UiSpinnerComponent],template:'<audio #audio (canplaythrough)="ready()" (ended)="finish()" preload="auto">\n  <source [src]="url()" type="audio/mpeg"/>\n  <div class="app-error">\n    Your browser does not support the audio element.\n  </div>\n</audio>\n\n<div *ngIf="state() === \'loading\'">\n  <app-ui-spinner class="inline"/>\n</div>\n\n<div *ngIf="state() === \'ready\'" class="app-icon-big">\n  <a (click)="start()"\n     (keyup)="startWithKey($event)"\n     [matRippleCentered]="true"\n     [matRippleRadius]="50"\n     mat-ripple\n     role="button"\n     tabindex="0">\n    <mat-icon>play_arrow</mat-icon>\n  </a>\n</div>\n\n<div *ngIf="state() === \'playback\' && options()?.showPlayback !== false" class="app-icon-big">\n  <mat-icon>volume_up</mat-icon>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[audio_player_componentngResource_default()]})],UiAudioPlayerComponent);var validator_componentngResource=__webpack_require__("./src/app/response/application/presentation/validator/validator.component.scss?ngResource"),validator_componentngResource_default=__webpack_require__.n(validator_componentngResource);let ResponseValidatorComponent=class ResponseValidatorComponent{response=(0,core.input)();expectedResponse=(0,core.input)();correct=(0,core.computed)((()=>this.getCorrect(this.response(),this.expectedResponse())));getCorrect(response,expectedResponse){return this.response()?.value&&this.expectedResponse()?.value?this.isCorrect(response?.value,expectedResponse?.value):void 0}isCorrect(responseValue,expectedResponseValue){return Array.isArray(expectedResponseValue)?responseValue.every(((it,index)=>it===expectedResponseValue[index])):"object"==typeof expectedResponseValue?(console.error("Object response values are not supported for practice response validation"),!1):responseValue===expectedResponseValue}static propDecorators={response:[{type:core.Input,args:[{isSignal:!0,alias:"response",required:!1,transform:void 0}]}],expectedResponse:[{type:core.Input,args:[{isSignal:!0,alias:"expectedResponse",required:!1,transform:void 0}]}]}};ResponseValidatorComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-response-validator",imports:[common.MD],template:'<ng-container *ngIf="correct() === undefined">Try to answer this item to see if the response is\n  correct.\n</ng-container>\n<ng-container *ngIf="correct() === true">Correct!</ng-container>\n<ng-container *ngIf="correct() === false">Not correct, try again.</ng-container>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[validator_componentngResource_default()]})],ResponseValidatorComponent);var text_componentngResource=__webpack_require__("./src/app/response/application/presentation/text/text.component.scss?ngResource"),text_componentngResource_default=__webpack_require__.n(text_componentngResource),debounceTime=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),distinctUntilChanged=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js"),skip=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/skip.js"),input=__webpack_require__("./node_modules/@angular/material/fesm2022/input.mjs"),datepicker=__webpack_require__("./node_modules/@angular/material/fesm2022/datepicker.mjs"),rxjs_interop=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs");let ErrorFormFieldComponent=class ErrorFormFieldComponent{control=core.input.required();ignoredErrors=(0,core.input)([]);hasError(error){return-1===this.ignoredErrors().indexOf(error)&&void 0!==this.control()?.errors?.[error]}static propDecorators={control:[{type:core.Input,args:[{isSignal:!0,alias:"control",required:!0,transform:void 0}]}],ignoredErrors:[{type:core.Input,args:[{isSignal:!0,alias:"ignoredErrors",required:!1,transform:void 0}]}]}};ErrorFormFieldComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-error-form-field",template:"@if (control() && (control().dirty || control().touched) && control().errors !== null) {\n  @if (hasError('required')) {\n    This is required\n  } @else if (hasError('email')) {\n    This is not a valid email\n  } @else if (hasError('exists')) {\n    Already exists\n  } @else if (hasError('not_exists')) {\n    Does not exist\n  } @else if (hasError('http')) {\n    Communication error (code: {{ control().errors!['http'] }})\n  } @else if (hasError('minlength')) {\n    This is too short\n  } @else if (hasError('maxlength')) {\n    This is too long\n  } @else if (hasError('min')) {\n    Need {{ control().errors!['min'].min }} or greater\n  } @else if (hasError('max')) {\n    Need {{ control().errors!['max'].max }} or less\n  } @else if (hasError('pattern')) {\n    Value does not appear to be correct for this field\n  } @else if (hasError('passwordStrength')) {\n    Password strength is too low\n  } @else if (hasError('passwordsNotMatch')) {\n    Passwords do not match\n  } @else {\n    Invalid value\n  }\n}\n",imports:[common.MD]})],ErrorFormFieldComponent);let TextResponseComponent=class TextResponseComponent{value=(0,core.input)();options=(0,core.input)({type:"text"});readonly=(0,core.input)(!1);valueChange=(0,core.output)();minDate=(0,core.computed)((()=>this.options()?.constraints?.minDateYearsFromNow?this.getDateYearsFromNow(this.options().constraints.minDateYearsFromNow):void 0));maxDate=(0,core.computed)((()=>this.options()?.constraints?.maxDateYearsFromNow?this.getDateYearsFromNow(this.options().constraints.maxDateYearsFromNow):void 0));formGroup=new fesm2022_forms.gE({response:new fesm2022_forms.MJ(null,{validators:fesm2022_forms.k0.required})});constructor(){(0,core.effect)((()=>this.resetForm(this.value(),this.options()))),(0,core.effect)((()=>this.setReadonly(this.readonly()))),this.listenToFormValueChanges(this.formGroup)}setReadonly(value){value?this.formGroup.disable():this.formGroup.enable()}resetForm(value,options){this.formGroup.controls.response.setValidators(this.createValidators(options)),this.formGroup.reset({response:value})}createValidators(options){const validators=[];return options.constraints?.required&&validators.push(fesm2022_forms.k0.required),"text"===options.type&&options.constraints?.pattern&&validators.push(fesm2022_forms.k0.pattern(options.constraints.pattern)),"email"===options.type&&validators.push(fesm2022_forms.k0.email),validators}listenToFormValueChanges(formGroup){formGroup.valueChanges.pipe((0,rxjs_interop.pQ)(),(0,debounceTime.B)(100),(0,distinctUntilChanged.F)(((prev,curr)=>prev?.response===curr?.response)),(0,skip.i)(1)).subscribe((it=>{this.readonly()||(console.log({value:it.response,valid:this.formGroup.valid}),this.valueChange.emit({value:it.response,valid:this.formGroup.valid}))}))}getDateYearsFromNow(years){return new Date((new Date).getFullYear()+years,0,1)}static ctorParameters=()=>[];static propDecorators={value:[{type:core.Input,args:[{isSignal:!0,alias:"value",required:!1,transform:void 0}]}],options:[{type:core.Input,args:[{isSignal:!0,alias:"options",required:!1,transform:void 0}]}],readonly:[{type:core.Input,args:[{isSignal:!0,alias:"readonly",required:!1,transform:void 0}]}],valueChange:[{type:core.Output,args:["valueChange"]}]}};TextResponseComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-response-text",imports:[common.MD,ErrorFormFieldComponent,datepicker.X6,input.fS,fesm2022_forms.X1],template:"<form [formGroup]=\"formGroup\">\n  @if (options().type === 'text' || options().type === 'email') {\n    <mat-form-field>\n      <mat-label>{{ options().label ?? 'Response' }}</mat-label>\n      <input formControlName=\"response\" matInput/>\n      @if (options().hint) {\n        <mat-hint>{{ options()!.hint! }}</mat-hint>\n      }\n      <mat-error>\n        <app-error-form-field [control]=\"formGroup.controls['response']\"/>\n      </mat-error>\n    </mat-form-field>\n  } @else if (options().type === 'date') {\n    <mat-form-field>\n      <mat-label>{{ options().label ?? 'Response' }}</mat-label>\n      <input [matDatepicker]=\"picker\"\n             [max]=\"maxDate()\"\n             [min]=\"minDate()\"\n             formControlName=\"response\"\n             matInput/>\n      @if (options().hint) {\n        <mat-hint>{{ options().hint! }}, format: {{ '2024-12-31' | date: 'shortDate' }}</mat-hint>\n      } @else {\n        <mat-hint>Format: {{ '2024-12-31' | date: 'shortDate' }}</mat-hint>\n      }\n      <mat-datepicker-toggle [for]=\"picker\" matSuffix/>\n      <mat-datepicker #picker\n                      [startView]=\"formGroup.controls['response'].value ? 'month' : 'multi-year'\"/>\n      <mat-error>\n        <app-error-form-field [control]=\"formGroup.controls['response']\"/>\n      </mat-error>\n    </mat-form-field>\n  } @else {\n    <p class=\"app-error\">Missing or wrong <code>type</code> in options.</p>\n  }\n</form>\n",changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[text_componentngResource_default()]})],TextResponseComponent);const PATTERN_ALPHANUMERIC=/^[a-zA-Z0-9]+$/;let AudioRecallItemComponent=class AudioRecallItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));options=(0,core.computed)((()=>({type:"text",constraints:{pattern:PATTERN_ALPHANUMERIC,required:this.step()?.requireValidResponses??!1}})));responseChange=(0,core.output)();stateChange=(0,core.output)();pattern=PATTERN_ALPHANUMERIC;state=(0,core.linkedSignal)((()=>this.refreshState(this.item())));filesUrl=environment_filesUrl;startPlaying(){this.state.set("playing"),this.stateChange.emit(this.internalStateToItemState("playing"))}showResponse(){this.item()&&this.delayAndShowResponse(this.item().questionDelayMs).subscribe((it=>{this.state.set(it),this.stateChange.emit(this.internalStateToItemState(it))}))}respond(response){this.responseChange.emit({...response})}tryAgain(){this.responseChange.emit(void 0)}refreshState(item){const state=item?.response?"response":"start";return this.stateChange.emit(this.internalStateToItemState(state)),state}delayAndShowResponse(delayMs){return(0,of.of)("response").pipe((0,delay.c)(delayMs),(0,startWith.Z)("delay"))}internalStateToItemState(state){switch(state){case"start":return"pending";case"playing":case"delay":return"busy";case"response":return"ready"}}static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};AudioRecallItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-audio-recall",imports:[UiAudioPlayerComponent,common.MD,fesm2022_button.Hl,icon.m_,fesm2022_forms.X1,ResponseValidatorComponent,TextResponseComponent],template:'@if (step()?.practice) {\n  <p>This is a practice question. You can retry it as many times as you like.</p>\n}\n\n@if ((state() === \'start\' || state() === \'playing\') && item()) {\n  <div class="question">\n    <app-ui-audio-player\n      (playbackStarted)="startPlaying()"\n      (playbackFinished)="showResponse()"\n      [url]="filesUrl + item()!.file"/>\n  </div>\n}\n\n@if (state() === \'delay\') {\n  <div class="question app-icon-big">\n    <mat-icon>hourglass_bottom</mat-icon>\n  </div>\n}\n\n@if (state() === \'response\' && item()) {\n  <div class="response">\n    <p [innerHTML]="item()!.question"></p>\n    <app-response-text\n      (valueChange)="respond($event)"\n      [value]="item()!.response?.value"\n      [options]="options()"\n      [readonly]="timeout()"\n    />\n\n    @if (step()?.practice) {\n      <div class="app-practice">\n        <app-response-validator\n          [expectedResponse]="item()!.expectedResponse"\n          [response]="item()!.response"/>\n        <p>\n          <button (click)="tryAgain()" color="accent" mat-raised-button type="button">\n            Try again\n          </button>\n        </p>\n      </div>\n    }\n  </div>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[audio_recall_componentngResource_default()]})],AudioRecallItemComponent);var image_sequence_recall_componentngResource=__webpack_require__("./src/app/item/application/presentation/image-sequence-recall/image-sequence-recall.component.scss?ngResource"),image_sequence_recall_componentngResource_default=__webpack_require__.n(image_sequence_recall_componentngResource);var image_sequence_componentngResource=__webpack_require__("./src/app/ui/application/presentation/image-sequence/image-sequence.component.scss?ngResource"),image_sequence_componentngResource_default=__webpack_require__.n(image_sequence_componentngResource),merge=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/merge.js"),Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js");let ImagePreloadService=class ImagePreloadService{preload(urls){const jobs=urls.map((it=>this.preloadOne(it)));return(0,merge.h)(jobs).pipe((0,map.T)((()=>{})))}preloadOne(url){return new Observable.c((it=>{const image=new Image;image.src=url,image.onload=()=>it.next()}))}};ImagePreloadService=(0,tslib_es6.Cg)([(0,core.Injectable)()],ImagePreloadService);var from=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/from.js"),concatMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/concatMap.js");let UiImageSequenceComponent=class UiImageSequenceComponent{sequence=(0,core.input)([]);options=(0,core.input)({elementDelayMs:1e3,elementDurationMs:2e3});sequenceStarted=(0,core.output)();sequenceFinished=(0,core.output)();sequenceError=(0,core.output)();state=(0,rxjs_interop.ZX)({request:this.sequence,loader:({request:sequence})=>this.getInitialState(sequence)});url=(0,core.signal)(void 0);preloadService=(0,core.inject)(ImagePreloadService);destroyRef=(0,core.inject)(core.DestroyRef);onStart(){this.sequenceStarted.emit(),this.displaySequence(this.sequence(),this.options()).subscribe({next:it=>this.state.set(it),error:it=>this.sequenceError.emit(it),complete:()=>this.sequenceFinished.emit()})}getInitialState(sequence){return this.preloadService.preload(sequence).pipe((0,map.T)((()=>"start")))}displaySequence(urls,options){return(0,from.H)(urls).pipe((0,concatMap.H)((it=>this.displayImage(it,options))))}displayImage(url,options){return this.url.set(url),(0,from.H)([["delay",0],["image",options.elementDelayMs],["delay",options.elementDurationMs]]).pipe((0,rxjs_interop.pQ)(this.destroyRef),(0,concatMap.H)((it=>(0,of.of)(it[0]).pipe((0,delay.c)(it[1])))))}static propDecorators={sequence:[{type:core.Input,args:[{isSignal:!0,alias:"sequence",required:!1,transform:void 0}]}],options:[{type:core.Input,args:[{isSignal:!0,alias:"options",required:!1,transform:void 0}]}],sequenceStarted:[{type:core.Output,args:["sequenceStarted"]}],sequenceFinished:[{type:core.Output,args:["sequenceFinished"]}],sequenceError:[{type:core.Output,args:["sequenceError"]}]}};UiImageSequenceComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-ui-image-sequence",imports:[common.MD,fesm2022_core.pZ,icon.m_],providers:[ImagePreloadService],template:'<div *ngIf="state.value() === \'start\'" class="app-icon-big">\n  <a (click)="onStart()" [matRippleCentered]="true" [matRippleRadius]="50" mat-ripple>\n    <mat-icon>play_arrow</mat-icon>\n  </a>\n</div>\n\n<div *ngIf="state.value() === \'image\'">\n  <img [src]="url()" alt="Image in sequence"/>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[image_sequence_componentngResource_default()]})],UiImageSequenceComponent);var image_choice_componentngResource=__webpack_require__("./src/app/response/application/presentation/image-choice/image-choice.component.scss?ngResource"),image_choice_componentngResource_default=__webpack_require__.n(image_choice_componentngResource);let ImageChoiceResponseComponent=class ImageChoiceResponseComponent{choices=(0,core.input)([]);options=(0,core.input)();choiceId=(0,core.input)(void 0);choiceIdChange=(0,core.output)();readonly=(0,core.input)(!1);filesUrl=environment_filesUrl;respond(choiceId){this.choiceIdChange.emit(choiceId)}static propDecorators={choices:[{type:core.Input,args:[{isSignal:!0,alias:"choices",required:!1,transform:void 0}]}],options:[{type:core.Input,args:[{isSignal:!0,alias:"options",required:!1,transform:void 0}]}],choiceId:[{type:core.Input,args:[{isSignal:!0,alias:"choiceId",required:!1,transform:void 0}]}],choiceIdChange:[{type:core.Output,args:["choiceIdChange"]}],readonly:[{type:core.Input,args:[{isSignal:!0,alias:"readonly",required:!1,transform:void 0}]}]}};ImageChoiceResponseComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-response-image-choice",imports:[common.MD,common.kt],template:'<ul [style.grid-template-columns]="\'repeat(\' + (options()?.columns ?? choices().length) + \', 1fr)\'">\n  @for (choice of choices(); track choice.id) {\n    <li (click)="!readonly() && respond(choice.id)"\n        class="choice"\n        [class.selected]="choiceId() === choice.id"\n        [class.readonly]="readonly()">\n      @if (options()?.width && options()?.height) {\n        <img [ngSrc]="filesUrl + choice.image"\n             alt="Response choice"\n             [width]="options()?.width"\n             [height]="options()?.height"/>\n      } @else {\n        <img [src]="filesUrl + choice.image" alt="Response choice"/>\n      }\n    </li>\n  }\n</ul>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[image_choice_componentngResource_default()]})],ImageChoiceResponseComponent);let ImageSequenceRecallItemComponent=class ImageSequenceRecallItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));state=(0,core.linkedSignal)((()=>this.refreshState(this.item())));imageUrls=(0,core.computed)((()=>this.getImageUrls(this.item())));filesUrl=environment_filesUrl;startPlaying(){this.state.set("playing"),this.stateChange.emit(this.internalStateToItemState("playing"))}showResponse(){this.item()&&this.delayAndShowChoices(this.item().questionDelayMs).subscribe((it=>{this.state.set(it),this.stateChange.emit(this.internalStateToItemState(it))}))}respond(choiceId){this.responseChange.emit({value:choiceId,valid:!0})}tryAgain(){this.responseChange.emit(void 0)}refreshState(item){const state=item?.response?"response":"start";return this.stateChange.emit(this.internalStateToItemState(state)),state}getImageUrls(item){return item?.sequence.map((it=>this.filesUrl+it))??[]}delayAndShowChoices(delayMs){return(0,of.of)("response").pipe((0,delay.c)(delayMs),(0,startWith.Z)("delay"))}internalStateToItemState(state){switch(state){case"start":return"pending";case"playing":case"delay":return"busy";case"response":return"ready"}}static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};ImageSequenceRecallItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-image-sequence-recall",imports:[common.MD,ImageChoiceResponseComponent,UiImageSequenceComponent,fesm2022_button.Hl,icon.m_,ResponseValidatorComponent],template:'@if (step()?.practice) {\n  <p>This is a practice question. You can retry it as many times as you like.</p>\n}\n\n@if ((state() === \'start\' || state() === \'playing\') && item()) {\n  <div class="question">\n    <app-ui-image-sequence\n      (sequenceStarted)="startPlaying()"\n      (sequenceFinished)="showResponse()"\n      [sequence]="imageUrls()"\n      [options]="{\n        elementDelayMs: item()!.elementDelayMs,\n        elementDurationMs: item()!.elementDurationMs\n      }"/>\n  </div>\n}\n@if (state() === \'delay\') {\n  <div class="question app-icon-big">\n    <mat-icon>hourglass_bottom</mat-icon>\n  </div>\n}\n\n@if (state() === \'response\' && item()) {\n  <div class="response">\n    <p [innerHTML]="item()!.question"></p>\n    <app-response-image-choice\n      (choiceIdChange)="respond($event)"\n      [choiceId]="item()!.response?.value"\n      [choices]="item()!.choices"\n      [options]="{ columns: 2 }"\n      [readonly]="timeout()"\n    />\n\n    @if (step()?.practice) {\n      <div class="app-practice">\n        <app-response-validator\n          [expectedResponse]="item()?.expectedResponse"\n          [response]="item()?.response"/>\n        <p>\n          <button (click)="tryAgain()" color="accent" mat-raised-button type="button">\n            Try again\n          </button>\n        </p>\n      </div>\n    }\n  </div>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[image_sequence_recall_componentngResource_default()]})],ImageSequenceRecallItemComponent);var multiple_choice_image_componentngResource=__webpack_require__("./src/app/item/application/presentation/multiple-choice-image/multiple-choice-image.component.scss?ngResource"),multiple_choice_image_componentngResource_default=__webpack_require__.n(multiple_choice_image_componentngResource);let MultipleChoiceImageItemComponent=class MultipleChoiceImageItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));filesUrl=environment_filesUrl;constructor(){(0,core.effect)((()=>this.item()&&this.stateChange.emit("ready")))}respond(choiceId){this.responseChange.emit({value:choiceId,valid:!0})}static ctorParameters=()=>[];static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};MultipleChoiceImageItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-multiple-choice-image",imports:[common.MD,ImageChoiceResponseComponent,fesm2022_button.Hl,common.kt,ResponseValidatorComponent],template:'@if (step()?.practice) {\n  <p>This is a practice question</p>\n}\n\n<p>{{ item()?.question }}</p>\n\n<p>\n  @if (item()?.options?.image?.width && item()?.options?.image?.height) {\n    <img [ngSrc]="filesUrl + item()!.image" alt="Question"\n         [width]="item()!.options!.image!.width"\n         [height]="item()!.options!.image!.height"/>\n  } @else {\n    <img [src]="filesUrl + item()?.image" alt="Question"/>\n  }\n</p>\n\n<app-response-image-choice\n  (choiceIdChange)="respond($event)"\n  [choiceId]="item()?.response?.value"\n  [choices]="item()?.choices ?? []"\n  [options]="{\n    width: item()?.options?.choices?.width,\n    height: item()?.options?.choices?.height,\n    columns: item()?.options?.columns\n  }"\n  [readonly]="timeout()"\n/>\n\n@if (step()?.practice) {\n  <div class="app-practice">\n    <app-response-validator\n      [expectedResponse]="item()?.expectedResponse"\n      [response]="item()?.response"/>\n  </div>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[multiple_choice_image_componentngResource_default()]})],MultipleChoiceImageItemComponent);var multiple_choice_text_componentngResource=__webpack_require__("./src/app/item/application/presentation/multiple-choice-text/multiple-choice-text.component.scss?ngResource"),multiple_choice_text_componentngResource_default=__webpack_require__.n(multiple_choice_text_componentngResource);var text_choice_componentngResource=__webpack_require__("./src/app/response/application/presentation/text-choice/text-choice.component.scss?ngResource"),text_choice_componentngResource_default=__webpack_require__.n(text_choice_componentngResource);let TextChoiceResponseComponent=class TextChoiceResponseComponent{choices=(0,core.input)([]);choiceId=(0,core.input)();options=(0,core.input)();choiceIdChange=(0,core.output)();readonly=(0,core.input)(!1);respond(choiceId){this.choiceIdChange.emit(choiceId)}static propDecorators={choices:[{type:core.Input,args:[{isSignal:!0,alias:"choices",required:!1,transform:void 0}]}],choiceId:[{type:core.Input,args:[{isSignal:!0,alias:"choiceId",required:!1,transform:void 0}]}],options:[{type:core.Input,args:[{isSignal:!0,alias:"options",required:!1,transform:void 0}]}],choiceIdChange:[{type:core.Output,args:["choiceIdChange"]}],readonly:[{type:core.Input,args:[{isSignal:!0,alias:"readonly",required:!1,transform:void 0}]}]}};TextChoiceResponseComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-response-text-choice",imports:[common.MD],template:'<ul\n  [style.grid-template-columns]="\'repeat(\' + (options()?.columns ?? choices().length) + \', 1fr)\'"\n  [class.many-choices]="choices().length > 8"\n  [class.medium-choices]="choices().length > 4 && choices().length <= 8"\n>\n  @for (choice of choices(); track choice.id) {\n  <li\n    (click)="!readonly() && respond(choice.id)"\n    [class.selected]="choiceId() === choice.id"\n    [class.readonly]="readonly()"\n  >\n    {{ choice.text }}\n  </li>\n  }\n</ul>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[text_choice_componentngResource_default()]})],TextChoiceResponseComponent);var text_select_choice_componentngResource=__webpack_require__("./src/app/response/application/presentation/text-select-choice/text-select-choice.component.scss?ngResource"),text_select_choice_componentngResource_default=__webpack_require__.n(text_select_choice_componentngResource),form_field=__webpack_require__("./node_modules/@angular/material/fesm2022/form-field.mjs"),fesm2022_select=__webpack_require__("./node_modules/@angular/material/fesm2022/select.mjs");let TextSelectChoiceResponseComponent=class TextSelectChoiceResponseComponent{choices=(0,core.input)([]);choiceId=(0,core.input)();required=(0,core.input)(!1);readonly=(0,core.input)(!1);choiceIdChange=(0,core.output)();formGroup=new fesm2022_forms.gE({response:new fesm2022_forms.MJ(null)});constructor(){(0,core.effect)((()=>this.resetForm(this.choiceId(),this.required()))),(0,core.effect)((()=>this.setReadonly(this.readonly()))),this.listenToFormValueChanges(this.formGroup)}setReadonly(value){value?this.formGroup.disable():this.formGroup.enable()}resetForm(choiceId,required){this.formGroup.controls.response.setValidators(this.createValidators(required)),this.formGroup.reset({response:choiceId??null})}createValidators(required){const validators=[];return required&&validators.push(fesm2022_forms.k0.required),validators}listenToFormValueChanges(formGroup){formGroup.valueChanges.pipe((0,rxjs_interop.pQ)(),(0,debounceTime.B)(100)).subscribe((it=>{this.readonly()||this.choiceIdChange.emit(it.response??void 0)}))}static ctorParameters=()=>[];static propDecorators={choices:[{type:core.Input,args:[{isSignal:!0,alias:"choices",required:!1,transform:void 0}]}],choiceId:[{type:core.Input,args:[{isSignal:!0,alias:"choiceId",required:!1,transform:void 0}]}],required:[{type:core.Input,args:[{isSignal:!0,alias:"required",required:!1,transform:void 0}]}],readonly:[{type:core.Input,args:[{isSignal:!0,alias:"readonly",required:!1,transform:void 0}]}],choiceIdChange:[{type:core.Output,args:["choiceIdChange"]}]}};TextSelectChoiceResponseComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-response-text-select-choice",imports:[common.MD,form_field.RG,fesm2022_select.Ve,fesm2022_forms.X1],template:'<ng-container [formGroup]="formGroup">\n  <mat-form-field>\n    <mat-select formControlName="response" placeholder="Select one...">\n      @for (choice of choices(); track choice.id) {\n        <mat-option [value]="choice.id">{{ choice.text }}</mat-option>\n      }\n    </mat-select>\n  </mat-form-field>\n</ng-container>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[text_select_choice_componentngResource_default()]})],TextSelectChoiceResponseComponent);let MultipleChoiceTextItemComponent=class MultipleChoiceTextItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));constructor(){(0,core.effect)((()=>this.item()&&this.stateChange.emit("ready")))}respond(choiceId){this.responseChange.emit({value:choiceId,valid:!0})}static ctorParameters=()=>[];static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};MultipleChoiceTextItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-multiple-choice-text",imports:[common.MD,ResponseValidatorComponent,TextChoiceResponseComponent,TextSelectChoiceResponseComponent],template:'@if (step()?.practice) {\n  <p>This is a practice question</p>\n}\n\n@if (item()?.instructions) {\n  <p class="instructions">{{ item()!.instructions }}</p>\n}\n\n<p>{{ item()?.question }}</p>\n\n@if (!item()?.options?.displayAs || item()?.options?.displayAs === \'input\') {\n  <app-response-text-choice\n    (choiceIdChange)="respond($event)"\n    [choiceId]="item()?.response?.value"\n    [choices]="item()!.choices"\n    [readonly]="timeout()"\n  />\n} @else if (item()?.options?.displayAs === \'select\') {\n  <app-response-text-select-choice\n    (choiceIdChange)="respond($event)"\n    [choiceId]="item()?.response?.value"\n    [choices]="item()!.choices"\n    [readonly]="timeout()"\n    [required]="step()?.requireValidResponses ?? false"\n  />\n}\n\n@if (step()?.practice) {\n  <div class="app-practice">\n    <app-response-validator\n      [expectedResponse]="item()?.expectedResponse"\n      [response]="item()?.response"/>\n  </div>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[multiple_choice_text_componentngResource_default()]})],MultipleChoiceTextItemComponent);var plane_componentngResource=__webpack_require__("./src/app/item/application/presentation/plane/plane.component.scss?ngResource"),plane_componentngResource_default=__webpack_require__.n(plane_componentngResource),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),combineLatest=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js");let ScriptLoaderService=class ScriptLoaderService{platformId;document;loadedScripts=new Set;constructor(platformId,document){this.platformId=platformId,this.document=document}load(src){return new Observable.c((observer=>{if((0,common.Vy)(this.platformId)||!this.document||this.loadedScripts.has(src))return observer.next(),void observer.complete();{const script=this.document.createElement("script");script.type="text/javascript",script.src=src,script.onload=()=>{this.loadedScripts.add(src),observer.next(),observer.complete()},script.onerror=()=>{observer.error(new Error(`Failed to load script: ${src}`))},this.document.body.appendChild(script)}}))}static ctorParameters=()=>[{type:void 0,decorators:[{type:core.Inject,args:[core.PLATFORM_ID]}]},{type:void 0,decorators:[{type:core.Inject,args:[common.qQ]}]}]};ScriptLoaderService=(0,tslib_es6.Cg)([(0,core.Injectable)({providedIn:"root"})],ScriptLoaderService);let PlaneItemComponent=class PlaneItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));render=(0,core.signal)(!1);choiceOptions=CHOICE_OPTIONS;scriptLoaderService=(0,core.inject)(ScriptLoaderService);scriptLoaded=new Subject.B;constructor(){this.renderAndUpdateStateWhenScriptLoaded(),this.loadScript()}respond(choiceId){this.responseChange.emit({value:choiceId,valid:!0})}loadScript(){this.stateChange.emit("pending"),this.scriptLoaderService.load("../files/planes/pfd-es2015.js?v=0.0.15").subscribe({next:()=>{this.scriptLoaded.next(!0)},error:it=>console.error(it)})}renderAndUpdateStateWhenScriptLoaded(){(0,combineLatest.z)([(0,rxjs_interop.br)(this.item),this.scriptLoaded]).pipe((0,rxjs_interop.pQ)(),(0,map.T)((([item,_])=>item)),(0,distinctUntilChanged.F)(((p,c)=>p?.id===c?.id)),(0,tap.M)((()=>{this.render.set(!1),this.stateChange.emit("pending")})),(0,debounceTime.B)(100)).subscribe({next:()=>{this.render.set(!0),this.stateChange.emit("ready")},error:it=>console.error(it)})}static ctorParameters=()=>[];static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};PlaneItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-plane",imports:[common.MD,ResponseValidatorComponent,UiSpinnerComponent],template:'@if (step()?.practice) {\n  <p>This is a practice question</p>\n}\n\n<p>Select the one plane that matches the indications on the primary flight display. If none of the\n  planes match, select \'None are correct\'</p>\n\n@if (render()) {\n<p>\n  \x3c!--suppress HtmlUnknownTag, AngularUndefinedBinding --\x3e\n  <campsych-pfd-display [data]="item()?.indicated"></campsych-pfd-display>\n</p>\n\n<ul>\n  @for (choice of item()?.choices; track choice.id) {\n    @if (choice.id === \'0\') {\n      <li (click)="!timeout() && respond(\'0\')"\n          [class.readonly]="timeout()"\n          [class.selected]="item()?.response?.value === choice.id">\n        <div class="none">None are correct</div>\n      </li>\n    } @else {\n      <li (click)="!timeout() && respond(choice.id)"\n          [class.readonly]="timeout()"\n          [class.selected]="item()?.response?.value === choice.id">\n        \x3c!--suppress HtmlUnknownTag, AngularUndefinedBinding --\x3e\n        <campsych-pfd-plane\n          [data]="choice.orientation"\n          [options]="choiceOptions">\n        </campsych-pfd-plane>\n      </li>\n    }\n  }\n</ul>\n} @else {\n  <app-ui-spinner/>\n}\n\n@if (step()?.practice) {\n  <div class="app-practice">\n    <app-response-validator\n      [expectedResponse]="item()?.expectedResponse"\n      [response]="item()?.response"/>\n  </div>\n}\n\n',changeDetection:core.ChangeDetectionStrategy.OnPush,schemas:[core.CUSTOM_ELEMENTS_SCHEMA],styles:[plane_componentngResource_default()]})],PlaneItemComponent);const CHOICE_OPTIONS={model:"/files/planes/dreamliner.glb",background:"/files/planes/background_clouds_square.jpg",compass:{image:"/files/planes/compass_filled.svg"}};var text_sequence_recall_componentngResource=__webpack_require__("./src/app/item/application/presentation/text-sequence-recall/text-sequence-recall.component.scss?ngResource"),text_sequence_recall_componentngResource_default=__webpack_require__.n(text_sequence_recall_componentngResource);var text_sequence_componentngResource=__webpack_require__("./src/app/ui/application/presentation/text-sequence/text-sequence.component.scss?ngResource"),text_sequence_componentngResource_default=__webpack_require__.n(text_sequence_componentngResource);let UiTextSequenceComponent=class UiTextSequenceComponent{sequence=(0,core.input)([]);options=(0,core.input)({elementDelayMs:1e3,elementDurationMs:1e3});sequenceStarted=(0,core.output)();sequenceFinished=(0,core.output)();state=(0,core.linkedSignal)((()=>this.getInitialState(this.sequence())));text=(0,core.signal)(void 0);destroyRef=(0,core.inject)(core.DestroyRef);onStart(){this.sequenceStarted.emit(),this.displaySequence(this.sequence(),this.options()).subscribe({next:it=>this.state.set(it),complete:()=>this.sequenceFinished.emit()})}displaySequence(sequence,options){return(0,from.H)(sequence).pipe((0,concatMap.H)((it=>this.displayText(it,options))))}displayText(text,options){return this.text.set(text),(0,from.H)([["delay",0],["text",options.elementDelayMs],["delay",options.elementDurationMs]]).pipe((0,rxjs_interop.pQ)(this.destroyRef),(0,concatMap.H)((it=>(0,of.of)(it[0]).pipe((0,delay.c)(it[1])))))}getInitialState(_){return"start"}static propDecorators={sequence:[{type:core.Input,args:[{isSignal:!0,alias:"sequence",required:!1,transform:void 0}]}],options:[{type:core.Input,args:[{isSignal:!0,alias:"options",required:!1,transform:void 0}]}],sequenceStarted:[{type:core.Output,args:["sequenceStarted"]}],sequenceFinished:[{type:core.Output,args:["sequenceFinished"]}]}};UiTextSequenceComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-ui-text-sequence",imports:[common.MD,fesm2022_core.pZ,icon.m_],providers:[ImagePreloadService],template:'@if (state() === \'start\') {\n  <div class="question app-icon-big">\n    <a (click)="onStart()" [matRippleCentered]="true" [matRippleRadius]="50" mat-ripple>\n      <mat-icon>play_arrow</mat-icon>\n    </a>\n  </div>\n}\n\n@if (state() === \'text\') {\n  <p class="element">\n    {{ text() }}\n  </p>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[text_sequence_componentngResource_default()]})],UiTextSequenceComponent);let TextSequenceRecallItemComponent=class TextSequenceRecallItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));options=(0,core.computed)((()=>({type:"text",constraints:{pattern:PATTERN_ALPHANUMERIC,required:this.step()?.requireValidResponses??!1}})));state=(0,core.linkedSignal)((()=>this.refreshState(this.item())));startPlaying(){this.state.set("playing"),this.stateChange.emit(this.internalStateToItemState("playing"))}showResponse(){this.item()&&this.delayAndShowResponse(this.item().questionDelayMs).subscribe((it=>{this.state.set(it),this.stateChange.emit(this.internalStateToItemState(it))}))}tryAgain(){this.responseChange.emit(void 0)}respond(response){this.responseChange.emit({...response})}refreshState(item){const state=item?.response?"response":"start";return this.stateChange.emit(this.internalStateToItemState(state)),state}delayAndShowResponse(delayMs){return(0,of.of)("response").pipe((0,delay.c)(delayMs),(0,startWith.Z)("delay"))}internalStateToItemState(state){switch(state){case"start":return"pending";case"playing":case"delay":return"busy";case"response":return"ready"}}static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};TextSequenceRecallItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-text-sequence-recall",imports:[common.MD,UiTextSequenceComponent,TextResponseComponent,icon.m_,fesm2022_button.Hl,ResponseValidatorComponent],template:'@if (step()?.practice) {\n  <p>This is a practice question. You can retry it as many times as you like.</p>\n}\n\n@if ((state() === \'start\' || state() === \'playing\') && item()) {\n  <p class="question">\n    <app-ui-text-sequence\n      (sequenceStarted)="startPlaying()"\n      (sequenceFinished)="showResponse()"\n      [sequence]="item()!.sequence"\n      [options]="{\n        elementDelayMs: item()!.elementDelayMs,\n        elementDurationMs: item()!.elementDurationMs\n      }"\n    />\n  </p>\n}\n\n@if (state() === \'delay\') {\n  <div class="question app-icon-big">\n    <mat-icon>hourglass_bottom</mat-icon>\n  </div>\n}\n\n@if (state() === \'response\' && item()) {\n  <div class="response">\n    <p [innerHTML]="item()!.question"></p>\n    <app-response-text\n      (valueChange)="respond($event)"\n      [value]="item()!.response?.value"\n      [options]="options()"\n      [readonly]="timeout()"\n    />\n\n    @if (step()?.practice) {\n      <div class="app-practice">\n        <app-response-validator\n          [expectedResponse]="item()!.expectedResponse"\n          [response]="item()!.response"/>\n        <p>\n          <button (click)="tryAgain()" color="accent" mat-raised-button type="button">\n            Try again\n          </button>\n        </p>\n      </div>\n    }\n  </div>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[text_sequence_recall_componentngResource_default()]})],TextSequenceRecallItemComponent);var text_sequence_gap_componentngResource=__webpack_require__("./src/app/item/application/presentation/text-sequence-gap/text-sequence-gap.component.scss?ngResource"),text_sequence_gap_componentngResource_default=__webpack_require__.n(text_sequence_gap_componentngResource);let TextSequenceGapItemComponent=class TextSequenceGapItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));formGroup=new fesm2022_forms.gE({gaps:new fesm2022_forms.Yp([])});formControlsAtIndex=(0,core.computed)((()=>this.createGapsFormControls(this.item())));constructor(){(0,core.effect)((()=>this.item()&&this.stateChange.emit("ready"))),(0,core.effect)((()=>this.resetForm(this.formControlsAtIndex()))),(0,core.effect)((()=>this.setReadonly(this.timeout()))),this.listenToFormValueChanges(this.formGroup)}get gaps(){return this.formGroup.controls.gaps}setReadonly(value){value?this.formGroup.disable():this.formGroup.enable()}respond(response){this.item()&&response?this.responseChange.emit(response):this.responseChange.emit({value:void 0,valid:!this.step()?.requireValidResponses})}resetForm(formControlsAtIndex){this.removeExistingGapFormControls(),formControlsAtIndex.forEach((it=>{it&&this.gaps.push(it,{emitEvent:!1})}))}listenToFormValueChanges(formGroup){formGroup.valueChanges.pipe((0,rxjs_interop.pQ)(),(0,debounceTime.B)(500)).subscribe((it=>{this.timeout()||this.respond({value:it.gaps??[],valid:this.formGroup.valid})}))}createGapsFormControls(item){if(item){const controls=[],response=item.response?.value??[];let gapIndex=0;return item.sequence.forEach((it=>{it===GAP_MARKER?controls.push(this.createGapFormControl(response[gapIndex++]??null)):controls.push(void 0)})),controls}return[]}createGapFormControl(value){return new fesm2022_forms.MJ(value,{validators:fesm2022_forms.k0.required,nonNullable:!0})}removeExistingGapFormControls(){for(;0!==this.gaps.length;)this.gaps.removeAt(0,{emitEvent:!1})}static ctorParameters=()=>[];static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};TextSequenceGapItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-text-sequence-gap",imports:[common.MD,form_field.RG,input.fS,fesm2022_forms.X1,ResponseValidatorComponent],template:'@if (step()?.practice) {\n  <p>This is a practice question</p>\n}\n\n<form [formGroup]="formGroup">\n  <ul>\n    @for (element of item()?.sequence; let index = $index; track index) {\n      <li>\n        @if (formControlsAtIndex()[index]) {\n          <mat-form-field>\n            <input [formControl]="formControlsAtIndex()[index]!" matInput/>\n          </mat-form-field>\n        } @else {\n          <span>{{ element }}</span>\n        }\n      </li>\n    }\n  </ul>\n</form>\n\n@if (step()?.practice) {\n  <div class="app-practice">\n    <app-response-validator\n      [expectedResponse]="item()?.expectedResponse"\n      [response]="item()?.response"/>\n  </div>\n}\n',styles:[text_sequence_gap_componentngResource_default()]})],TextSequenceGapItemComponent);const GAP_MARKER="x";var visual_search_componentngResource=__webpack_require__("./src/app/item/application/presentation/visual-search/visual-search.component.scss?ngResource"),visual_search_componentngResource_default=__webpack_require__.n(visual_search_componentngResource);let VisualSearchItemComponent=class VisualSearchItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));render=(0,core.signal)(!1);trials=(0,core.computed)((()=>this.getFilteredTrials(this.item()?.trials||[])));options=VISUAL_SEARCH_OPTIONS;defaults=VISUAL_SEARCH_DEFAULTS;scriptLoaderService=(0,core.inject)(ScriptLoaderService);scriptLoaded=new Subject.B;constructor(){this.renderAndUpdateStateWhenScriptLoaded(),this.loadScript()}respond(event){if(this.item()){const response=event.detail;this.responseChange.emit({value:response,valid:!0})}}tryAgain(){this.item()&&this.responseChange.emit(void 0)}getFilteredTrials(trials){return trials.map((it=>this.removeNulls(it)))}removeNulls(trial){return Object.keys(trial).filter((k=>null!=trial[k])).reduce(((a,k)=>({...a,[k]:trial[k]})),{})}loadScript(){this.stateChange.emit("pending"),this.scriptLoaderService.load("../files/visual-search/visual-search-es2015.js?v=1.1.13").subscribe({next:()=>{this.scriptLoaded.next(!0)},error:it=>console.error(it)})}renderAndUpdateStateWhenScriptLoaded(){(0,combineLatest.z)([(0,rxjs_interop.br)(this.item),this.scriptLoaded]).pipe((0,rxjs_interop.pQ)()).subscribe({next:()=>{this.render.set(!0),this.stateChange.emit("ready")},error:it=>console.error(it)})}static ctorParameters=()=>[];static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};VisualSearchItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-visual-search",imports:[common.MD,fesm2022_button.Hl,UiSpinnerComponent],template:'@if (item() && !item()?.response?.value && !timeout()) {\n  \x3c!--suppress HtmlUnknownTag, AngularUndefinedBinding --\x3e\n  @if (render()) {\n    <campsych-visual-search\n      (finished)="respond($event)"\n      [defaults]="defaults"\n      [options]="options"\n      [trials]="trials()">\n    </campsych-visual-search>\n  } @else {\n    <app-ui-spinner/>\n  }\n}\n\n@if (!step()?.practice && item()?.response?.value) {\n  <div class="message">\n    @if (timeout()) {\n      <p>Time for item completion was exceeded.</p>\n    } @else {\n      <p>All trials are complete, please proceed to next item.</p>\n    }\n  </div>\n}\n\n@if (step()?.practice && item()?.response?.value) {\n  <div class="message">\n    @if (item()?.response?.value?.correctPercent) {\n      <p>\n        Accuracy: <strong>{{ item()?.response?.value?.correctPercent }}%</strong>\n      </p>\n    }\n\n    @if (item()?.response?.value?.avgTime) {\n      <p>\n        Average time: <strong>{{ item()?.response?.value?.avgTime }}ms</strong>\n      </p>\n    }\n\n    <p>\n      <button (click)="tryAgain()" color="accent" mat-raised-button type="button">Try again\n      </button>\n    </p>\n  </div>\n}\n\n@if (step()?.practice) {\n  <p>This is a practice question. You can retry it as many times as you like.</p>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,schemas:[core.CUSTOM_ELEMENTS_SCHEMA],styles:[visual_search_componentngResource_default()]})],VisualSearchItemComponent);const VISUAL_SEARCH_OPTIONS={color:"white",highlight:"yellow",background:"black",feedback:!1},VISUAL_SEARCH_DEFAULTS={timeLimit:1e4};var text_text_componentngResource=__webpack_require__("./src/app/item/application/presentation/text/text.component.scss?ngResource"),text_text_componentngResource_default=__webpack_require__.n(text_text_componentngResource),platform_browser=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/platform-browser.mjs");let SafePipe=class SafePipe{sanitizer=(0,core.inject)(platform_browser.up);transform(value,type){switch(type){case"html":default:return this.sanitizer.bypassSecurityTrustHtml(value);case"style":return this.sanitizer.bypassSecurityTrustStyle(value);case"script":return this.sanitizer.bypassSecurityTrustScript(value);case"url":return this.sanitizer.bypassSecurityTrustUrl(value);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(value)}}};SafePipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"appSafe",standalone:!0})],SafePipe);let TextItemComponent=class TextItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));constructor(){(0,core.effect)((()=>this.item()&&this.stateChange.emit("ready"))),(0,core.effect)((()=>this.emitEmptyResponse(this.item())))}emitEmptyResponse(item){setTimeout((()=>{item&&!item.response&&this.responseChange.emit({value:void 0,valid:!0})}))}static ctorParameters=()=>[];static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};TextItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-text",imports:[common.MD,fesm2022_forms.X1,form_field.RG,input.fS,SafePipe],template:"@if (item()?.text) {\n  <article [innerHTML]=\"item()!.text | appSafe: 'html'\"></article>\n}\n",styles:[text_text_componentngResource_default()]})],TextItemComponent);var text_input_componentngResource=__webpack_require__("./src/app/item/application/presentation/text-input/text-input.component.scss?ngResource"),text_input_componentngResource_default=__webpack_require__.n(text_input_componentngResource);let TextInputItemComponent=class TextInputItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));options=(0,core.computed)((()=>this.getOptions(this.item(),this.step())));constructor(){(0,core.effect)((()=>this.item()&&this.stateChange.emit("ready")))}respond(response){this.responseChange.emit(response)}getOptions(item,step){if(item&&step){const{constraints={},hint,label,type}=item.options??{};return{type:type??"text",hint,label,constraints:{...constraints,required:step.requireValidResponses??!1}}}return{type:"text"}}static ctorParameters=()=>[];static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};TextInputItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-text-input",imports:[common.MD,fesm2022_forms.YN,datepicker.X6,form_field.RG,form_field.RG,input.fS,input.fS,fesm2022_forms.X1,fesm2022_forms.X1,ResponseValidatorComponent,TextResponseComponent],template:'@if (step()?.practice) {\n  <p>This is a practice question</p>\n}\n\n<p [innerHTML]="item()?.question "></p>\n\n<div class="response">\n  <app-response-text\n    (valueChange)="respond($event)"\n    [options]="options()"\n    [readonly]="timeout()"\n    [value]="item()?.response?.value"/>\n</div>\n\n@if (step()?.practice) {\n  <div class="app-practice">\n    <app-response-validator\n      [expectedResponse]="item()?.expectedResponse"\n      [response]="item()?.response"/>\n  </div>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[text_input_componentngResource_default()]})],TextInputItemComponent);var multitask_audio_and_text_componentngResource=__webpack_require__("./src/app/item/application/presentation/multitask-audio-and-text/multitask-audio-and-text.component.scss?ngResource"),multitask_audio_and_text_componentngResource_default=__webpack_require__.n(multitask_audio_and_text_componentngResource);let FontLoaderService=class FontLoaderService{platformId;document;constructor(platformId,document){this.platformId=platformId,this.document=document}loadGoogleFont(cssUrl){return new Observable.c((observer=>{if((0,common.Vy)(this.platformId)||!this.document)return observer.next(),void observer.complete();{const existingLink=Array.from(document.head.querySelectorAll("link")).find((link=>link.href===cssUrl));if(existingLink)return observer.next(),void observer.complete();const link=document.createElement("link");link.rel="stylesheet",link.href=cssUrl,link.onload=()=>{observer.next(),observer.complete()},link.onerror=()=>{observer.error(new Error(`Failed to load Google Fonts CSS from: ${cssUrl}`))},document.head.appendChild(link)}}))}load(fontName,fontUrl){return new Observable.c((observer=>{if((0,common.Vy)(this.platformId)||!this.document)return observer.next(),void observer.complete();if("fonts"in this.document){new FontFace(fontName,`url(${fontUrl})`).load().then((loadedFont=>{this.document.fonts.add(loadedFont),observer.next(),observer.complete()})).catch((error=>{observer.error(error)}))}else this.loadFallback(fontName,fontUrl,observer)}))}loadFallback(fontName,fontUrl,observer){if(this.document){const style=this.document.createElement("style");style.textContent=`\n        @font-face {\n          font-family: '${fontName}';\n          src: url('${fontUrl}');\n          font-weight: normal;\n          font-style: normal;\n        }\n      `,this.document.head.appendChild(style),observer.next(),observer.complete()}}static ctorParameters=()=>[{type:void 0,decorators:[{type:core.Inject,args:[core.PLATFORM_ID]}]},{type:void 0,decorators:[{type:core.Inject,args:[common.qQ]}]}]};FontLoaderService=(0,tslib_es6.Cg)([(0,core.Injectable)({providedIn:"root"})],FontLoaderService);let MultitaskAudioAndTextItemComponent=class MultitaskAudioAndTextItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));state=(0,core.linkedSignal)({source:()=>this.item(),computation:(item,previous)=>this.refreshState(item,previous?.source,previous?.value)});filesUrl=environment_filesUrl;fontLoaderService=(0,core.inject)(FontLoaderService);startTime=Date.now();constructor(){this.fontLoaderService.loadGoogleFont("https://fonts.googleapis.com/css2?family=Noto+Sans:wght@500").subscribe({error:it=>console.error(it)})}respond(choiceId){const elapsed=Date.now()-this.startTime;this.responseChange.emit({value:choiceId,valid:!0,timeElapsed:elapsed})}startPlaying(){this.state.set("playing"),this.stateChange.emit(this.internalStateToItemState("playing")),this.startTime=Date.now()}startDelay(){const item=this.item();item&&item.timeoutAfterAudioMs?this.delayAndTimeout(item.timeoutAfterAudioMs).subscribe({next:it=>{this.state.set(it),this.stateChange.emit(this.internalStateToItemState(it))},complete:()=>{if(this.state.set("timeout"),this.stateChange.emit(this.internalStateToItemState("timeout")),!this.item()?.response){const elapsed=Date.now()-this.startTime;this.responseChange.emit({value:void 0,valid:!1,timeout:!0,totalTimeElapsed:elapsed})}}}):item&&(this.state.set("no-delay"),this.stateChange.emit(this.internalStateToItemState("no-delay")))}tryAgain(){this.responseChange.emit(void 0)}refreshState(item,previousItem,previousState){const state=item?.id==previousItem?.id&&("playing"===previousState||"delay"===previousState)?previousState:null!=item?.response||null!=item?.response?item.timeoutAfterAudioMs?"timeout":"no-delay":"start";return this.stateChange.emit(this.internalStateToItemState(state)),state}delayAndTimeout(delayMs){return(0,of.of)("playing").pipe((0,delay.c)(delayMs),(0,startWith.Z)("delay"))}internalStateToItemState(state){switch(state){case"start":return"pending";case"playing":case"delay":return"busy";case"timeout":case"no-delay":return"ready"}}static ctorParameters=()=>[];static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};MultitaskAudioAndTextItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-multitask-audio-and-text",imports:[ResponseValidatorComponent,TextChoiceResponseComponent,UiAudioPlayerComponent,fesm2022_button.$z],template:'@if (step()?.practice) {\n  <p class="instructions">\n    This is a practice question\n  </p>\n}\n\n<p class="instructions">\n  Are the visual stimuli the same or different? Does the sum result in an even or an odd number?\n</p>\n<p class="instructions">\n  <strong>Choose the option that answers both questions</strong>.\n</p>\n\n@if (state() === \'start\') {\n  <p class="instructions">Press play when ready.</p>\n}\n\n@if (state() !== \'timeout\' && state() !== \'no-delay\' && item()) {\n  <div class="question">\n    <app-ui-audio-player\n      (playbackStarted)="startPlaying()"\n      (playbackFinished)="startDelay()"\n      [url]="filesUrl + item()!.audio"\n      [options]="{ showPlayback: false }"\n    />\n  </div>\n}\n\n@if (state() !== \'start\' && item()) {\n  <div class="text">\n    @for (text of item()!.text; let index = $index; track index) {\n      <div class="part" [innerHTML]="text"></div>\n    }\n  </div>\n\n  <app-response-text-choice\n    (choiceIdChange)="respond($event)"\n    [choiceId]="item()!.response?.value"\n    [choices]="item()!.choices"\n    [readonly]="state() === \'timeout\'"\n    [options]="{ columns: item()!.options?.columns ?? item()!.choices.length }"\n  />\n}\n\n@if (state() === \'delay\' || state() === \'timeout\' && item()?.timeoutAfterAudioMs) {\n  <div class="timeout-container">\n    <div class="timeout-bar"\n         [style.animation-duration]="item()!.timeoutAfterAudioMs + \'ms\'"\n         [class.timeout]="state() === \'timeout\'">\n    </div>\n  </div>\n}\n\n@if (step()?.practice && state() !== \'start\') {\n  <div class="app-practice">\n    <app-response-validator\n      [expectedResponse]="item()?.expectedResponse"\n      [response]="item()?.response"/>\n\n    @if (state() === \'timeout\') {\n      <p>\n        <button (click)="tryAgain()" color="accent" mat-raised-button type="button">\n          Try again\n        </button>\n      </p>\n    }\n  </div>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[multitask_audio_and_text_componentngResource_default()]})],MultitaskAudioAndTextItemComponent);var visual_search_training_componentngResource=__webpack_require__("./src/app/item/application/presentation/visual-search-training/visual-search-training.component.scss?ngResource"),visual_search_training_componentngResource_default=__webpack_require__.n(visual_search_training_componentngResource);let VisualSearchTrainingItemComponent=class VisualSearchTrainingItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));render=(0,core.signal)(!1);scriptLoaderService=(0,core.inject)(ScriptLoaderService);scriptLoaded=new Subject.B;constructor(){(0,core.effect)((()=>this.emitEmptyResponse(this.item()))),this.renderAndEmitStateWhenScriptLoaded(),this.loadScript()}loadScript(){this.stateChange.emit("pending"),this.scriptLoaderService.load("../files/visual-search/visual-search-es2015.js?v=1.1.13").subscribe({next:()=>{this.scriptLoaded.next(!0)},error:it=>console.error(it)})}renderAndEmitStateWhenScriptLoaded(){(0,combineLatest.z)([(0,rxjs_interop.br)(this.item),this.scriptLoaded]).pipe((0,rxjs_interop.pQ)()).subscribe({next:()=>{this.render.set(!0),this.stateChange.emit("ready")},error:it=>console.error(it)})}emitEmptyResponse(item){setTimeout((()=>{item&&!item.response&&this.responseChange.emit({value:void 0,valid:!0})}))}static ctorParameters=()=>[];static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};VisualSearchTrainingItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-visual-search-training",imports:[common.MD,fesm2022_button.Hl,UiSpinnerComponent],template:'@if (item() && !item()?.response?.value && !timeout()) {\n  @if (render()) {\n    \x3c!--suppress HtmlUnknownTag, AngularUndefinedBinding --\x3e\n    <campsych-visual-search-training>\n      [options]="item()!.options"\n    </campsych-visual-search-training>\n\n    <p>Use corresponding arrow keys to indicate the direction of the stem of the target ⊥\n      (up/down/left/right)</p>\n    <p>Correct keyboard button is highlighted. Please proceed once you are comfortable with it.</p>\n  } @else {\n    <app-ui-spinner/>\n  }\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,schemas:[core.CUSTOM_ELEMENTS_SCHEMA],styles:[visual_search_training_componentngResource_default()]})],VisualSearchTrainingItemComponent);var calculator_component=__webpack_require__("./src/app/tool/application/presentation/calculator/calculator.component.ts");var drag_into_order_componentngResource=__webpack_require__("./src/app/item/application/presentation/drag-into-order/drag-into-order.component.scss?ngResource"),drag_into_order_componentngResource_default=__webpack_require__.n(drag_into_order_componentngResource),drag_drop=__webpack_require__("./node_modules/@angular/cdk/fesm2022/drag-drop.mjs");let DragIntoOrderItemComponent=class DragIntoOrderItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();responseChoices=(0,core.signal)([]);timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));choices=(0,core.computed)((()=>this.item()?.choices??[]));responseValue=(0,core.computed)((()=>this.item()?.response?.value));constructor(){(0,core.effect)((()=>this.item()&&this.stateChange.emit("ready"))),(0,core.effect)((()=>this.responseChoices.set(this.responseValue()??this.choices())))}onDrop(event){this.timeout()||((0,drag_drop.HD)(this.responseChoices(),event.previousIndex,event.currentIndex),this.respond(this.responseChoices()))}respond(value){this.timeout()||this.responseChange.emit({value,valid:!0})}static ctorParameters=()=>[];static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};DragIntoOrderItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-drag-into-order",imports:[common.MD,ResponseValidatorComponent,drag_drop.O7,drag_drop.T1,icon.m_],template:'@if (step()?.practice) {\n<p>This is a practice question</p>\n} @if (item()?.instructions) {\n<p class="instructions">{{ item()!.instructions }}</p>\n}\n\n<p>{{ item()?.question }}</p>\n\n<div\n  cdkDropList\n  cdkDropListOrientation="mixed"\n  class="choices-list"\n  [class.many-choices]="responseChoices().length > 8"\n  [class.medium-choices]="\n    responseChoices().length > 4 && responseChoices().length <= 8\n  "\n  [style.grid-template-columns]="\'repeat(\' + item()?.choices?.length + \', 1fr)\'"\n  [cdkDropListData]="responseChoices()"\n  [cdkDropListDisabled]="timeout()"\n  (cdkDropListDropped)="onDrop($event)"\n>\n  @for (choice of responseChoices(); track choice; let i = $index) {\n  <div\n    class="choice-box"\n    [class.many-choices]="responseChoices().length > 8"\n    [class.medium-choices]="\n      responseChoices().length > 4 && responseChoices().length <= 8\n    "\n    cdkDrag\n  >\n    <div class="order-number">{{ i + 1 }}</div>\n    <mat-icon class="drag-icon">drag_indicator</mat-icon>\n    <div class="choice-text">{{ choice }}</div>\n  </div>\n  }\n</div>\n\n@if (step()?.practice) {\n<div class="app-practice">\n  <app-response-validator\n    [expectedResponse]="item()?.expectedResponse"\n    [response]="item()?.response"\n  />\n</div>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[drag_into_order_componentngResource_default()]})],DragIntoOrderItemComponent);var drag_to_box_componentngResource=__webpack_require__("./src/app/item/application/presentation/drag-to-box/drag-to-box.component.scss?ngResource"),drag_to_box_componentngResource_default=__webpack_require__.n(drag_to_box_componentngResource);let DragToBoxItemComponent=class DragToBoxItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();responseChoices=(0,core.signal)([]);timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));question=(0,core.computed)((()=>this.item()?.question??""));questionParts=(0,core.computed)((()=>this.parseQuestion(this.question())));choices=(0,core.computed)((()=>this.item()?.choices??[]));availableChoices=(0,core.computed)((()=>this.choices().filter((choice=>!this.responseChoices().includes(choice)))));responseValue=(0,core.computed)((()=>this.item()?.response?.value));constructor(){(0,core.effect)((()=>this.item()&&this.stateChange.emit("ready"))),(0,core.effect)((()=>this.responseChoices.set(this.responseValue()??this.questionParts().filter((part=>"box"===part.type)).map((()=>"")))))}onDrop(event,boxIndex){!this.timeout()&&event.item.data&&(this.responseChoices.set(this.responseChoices().map(((choice,index)=>index===boxIndex?event.item.data:choice))),this.respond())}onBoxClick(boxIndex){this.timeout()||(this.responseChoices.set(this.responseChoices().map(((it,index)=>index===boxIndex?"":it))),this.respond())}onChoiceClick(choice){if(console.log("onChoiceClick",choice),this.timeout())return;const boxIndex=this.responseChoices().findIndex((it=>""===it));-1!==boxIndex&&(this.responseChoices.set(this.responseChoices().map(((it,index)=>index===boxIndex?choice:it))),this.respond())}respond(){this.timeout()||(this.item()&&this.responseChoices().length>0?this.responseChange.emit({value:this.responseChoices(),valid:this.responseChoices().every((choice=>""!==choice))}):this.responseChange.emit({value:void 0,valid:!this.step()?.requireValidResponses}))}parseQuestion(question){if(!question)return[];let boxIndex=0;return question.split(/(\{\})/).filter((part=>""!==part)).map((part=>"{}"===part?{type:"box",boxIndex:boxIndex++}:{type:"text",content:part}))}static ctorParameters=()=>[];static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};DragToBoxItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-drag-to-box",imports:[common.MD,ResponseValidatorComponent,icon.m_,drag_drop.T1,drag_drop.O7,drag_drop.RK],template:'@if (step()?.practice) {\n<p>This is a practice question</p>\n} @if (item()?.instructions) {\n<p class="instructions">{{ item()!.instructions }}</p>\n}\n\n<div cdkDropListGroup>\n  <div class="question">\n    @for (part of questionParts(); track $index) { @if (part.type === \'text\') {\n    <span class="question-text">{{ part.content }}</span>\n    } @else if (part.type === \'box\') {\n    <div\n      class="question-box"\n      [id]="\'box-\' + part.boxIndex"\n      cdkDropList\n      [cdkDropListData]="responseChoices()[part.boxIndex]"\n      [cdkDropListDisabled]="timeout()"\n      (cdkDropListDropped)="onDrop($event, part.boxIndex)"\n    >\n      @if (responseChoices()[part.boxIndex] === \'\') {\n      <div class="empty-box">&nbsp;</div>\n      } @else {\n      <div\n        class="choice-box"\n        (click)="onBoxClick(part.boxIndex); $event.stopPropagation()"\n      >\n        {{ responseChoices()[part.boxIndex] }}\n        <mat-icon class="close-icon">close</mat-icon>\n      </div>\n      }\n    </div>\n    } }\n  </div>\n\n  <div\n    class="available-choices"\n    id="choices"\n    cdkDropList\n    [cdkDropListData]="availableChoices()"\n    [cdkDropListDisabled]="timeout()"\n    cdkDropListSortingDisabled\n  >\n    @for (choice of availableChoices(); track choice) {\n    <div\n      class="choice"\n      cdkDrag\n      [cdkDragData]="choice"\n      (click)="onChoiceClick(choice); $event.stopPropagation()"\n    >\n      <mat-icon class="drag-icon">drag_indicator</mat-icon>\n      <div class="choice-text">{{ choice }}</div>\n    </div>\n    }\n  </div>\n</div>\n\n@if (step()?.practice) {\n<div class="app-practice">\n  <app-response-validator\n    [expectedResponse]="item()?.expectedResponse"\n    [response]="item()?.response"\n  />\n</div>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[drag_to_box_componentngResource_default()]})],DragToBoxItemComponent);var inline_choices_componentngResource=__webpack_require__("./src/app/item/application/presentation/inline-choices/inline-choices.component.scss?ngResource"),inline_choices_componentngResource_default=__webpack_require__.n(inline_choices_componentngResource),button_toggle=__webpack_require__("./node_modules/@angular/material/fesm2022/button-toggle.mjs");let InlineChoicesItemComponent=class InlineChoicesItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();gapMarker="{}";selectedChoice=(0,core.signal)(void 0);timeout=(0,core.computed)((()=>this.item()?.response?.timeout??!1));question=(0,core.computed)((()=>this.item()?.question??""));questionParts=(0,core.computed)((()=>this.parseQuestion(this.question())));choices=(0,core.computed)((()=>this.item()?.choices??["test 1","test 2","test 3"]));responseValue=(0,core.computed)((()=>this.item()?.response?.value));layout=(0,core.computed)((()=>this.item()?.options?.layout??"horizontal"));constructor(){(0,core.effect)((()=>this.item()&&this.stateChange.emit("ready"))),(0,core.effect)((()=>this.selectedChoice.set(this.responseValue()??void 0)))}onChoiceClick(choice){this.timeout()||(this.selectedChoice.set(choice),this.respond())}respond(){this.timeout()}parseQuestion(question){if(!question)return[];return question.split(/(\{\})/).filter((part=>""!==part))}static ctorParameters=()=>[];static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}]}};InlineChoicesItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item-inline-choices",imports:[common.MD,ResponseValidatorComponent,button_toggle.Vg],template:'@if (step()?.practice) {\n<p>This is a practice question</p>\n} @if (item()?.instructions) {\n<p class="instructions">{{ item()!.instructions }}</p>\n}\n\n<div class="question">\n  @for (part of questionParts(); track $index) {\n    @if (part === gapMarker) {\n      <mat-button-toggle-group [vertical]="layout() === \'vertical\'" hideSingleSelectionIndicator>\n        @for (choice of choices(); track choice) {\n          <mat-button-toggle [value]="choice" (click)="onChoiceClick(choice)">{{ choice }}</mat-button-toggle>\n        }\n      </mat-button-toggle-group>\n    } @else {\n      {{ part }}\n    }\n  }\n</div>\n\n@if (step()?.practice) {\n<div class="app-practice">\n  <app-response-validator\n    [expectedResponse]="item()?.expectedResponse"\n    [response]="item()?.response"\n  />\n</div>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[inline_choices_componentngResource_default()]})],InlineChoicesItemComponent);let ItemComponent=class ItemComponent{step=(0,core.input)(void 0);item=(0,core.input)();responseChange=(0,core.output)();stateChange=(0,core.output)();darkModeChange=(0,core.output)();constructor(){(0,core.effect)((()=>this.applyDarkMode(this.item())))}respond(response){this.responseChange.emit(response)}updateState(state){this.stateChange.emit(state)}applyDarkMode(item){"visual_search"==item?.type||"visual_search_training"==item?.type?this.notifyDarkMode(!0):this.notifyDarkMode(!1)}notifyDarkMode(darkMode){this.darkModeChange.emit(darkMode)}static ctorParameters=()=>[];static propDecorators={step:[{type:core.Input,args:[{isSignal:!0,alias:"step",required:!1,transform:void 0}]}],item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}],responseChange:[{type:core.Output,args:["responseChange"]}],stateChange:[{type:core.Output,args:["stateChange"]}],darkModeChange:[{type:core.Output,args:["darkModeChange"]}]}};ItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item",imports:[AudioRecallItemComponent,common.MD,ImageSequenceRecallItemComponent,MultipleChoiceImageItemComponent,MultipleChoiceTextItemComponent,PlaneItemComponent,TextItemComponent,TextSequenceGapItemComponent,TextSequenceRecallItemComponent,VisualSearchItemComponent,TextInputItemComponent,MultitaskAudioAndTextItemComponent,VisualSearchTrainingItemComponent,calculator_component.E,DragIntoOrderItemComponent,DragToBoxItemComponent,InlineChoicesItemComponent],template:'@if (item()?.type === \'audio_recall\') {\n  <app-item-audio-recall\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type === \'image_sequence_recall\') {\n  <app-item-image-sequence-recall\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type === \'multiple_choice_image\') {\n  <app-item-multiple-choice-image\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type === \'multiple_choice_text\') {\n  <app-item-multiple-choice-text\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type === \'plane\') {\n  <app-item-plane\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type === \'text_sequence_gap\') {\n  <app-item-text-sequence-gap\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type === \'text_sequence_recall\') {\n  <app-item-text-sequence-recall\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type === \'visual_search\') {\n  <app-item-visual-search\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type === \'visual_search_training\') {\n  <app-item-visual-search-training\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type === \'text\') {\n  <app-item-text\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type === \'text_input\') {\n  <app-item-text-input\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type === \'multitask_audio_and_text\') {\n  <app-item-multitask-audio-and-text\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type === \'drag_into_order\') {\n  <app-item-drag-into-order\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type === \'drag_to_box\') {\n  <app-item-drag-to-box\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type === "inline_choices") {\n  <app-item-inline-choices\n    (responseChange)="respond($event)"\n    (stateChange)="updateState($event)"\n    [step]="step()"\n    [item]="$any(item())"\n  />\n} @else if (item()?.type) {\n  <p>Unknown item type: <code>{{ item()?.type }}</code></p>\n}\n\n\x3c!-- TODO: add a condition to show the calculator --\x3e\n@if (false) {\n  <app-tool-calculator />\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[item_componentngResource_default()]})],ItemComponent);let item_component_ItemComponent=class ItemComponent{item=(0,core.input)(void 0);static propDecorators={item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!1,transform:void 0}]}]}};item_component_ItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"storybook-item",standalone:!0,imports:[common.MD,ItemComponent],template:'\n    <app-item [item]="item()" />\n  ',styles:[itemngResource_default()]})],item_component_ItemComponent)},"./src/stories/item/item.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);